<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using the cflogin tag</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001179.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001181.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using the cflogin tag</h1>
<p>The <a href="00000287.htm#2991147"><code>cflogin</code></a> tag executes only if there is no currently logged-in user. It has the following three optional arguments that control the characteristics of a ColdFusion login:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Attribute
    </th>
    <th>
Use
    </th>
  </tr>
  <tr>
    <td>
<p>idleTimeout</p>
    </td>
    <td>
<p>If no page requests occur during the idleTimeout period, ColdFusion logs out the user. The default is 1800 seconds (30 minutes). This is ignored if login information is stored in the Session scope.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>applicationToken</p>
    </td>
    <td>
<p>Limits the login validity to a specific application as specified by a ColdFusion page's <a href="00000217.htm#1097308"><code>cfapplication</code></a> tag. The default value is the current application name.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>cookieDomain</p>
    </td>
    <td>
<p>Specifies the domain of the cookie used to mark a user as logged-in. You use cookieDomain if you have a clustered environment (for example, x.acme.com, x2.acme.com, and so on). This lets the cookie work for all the computers in the cluster.</p>
    </td>
  </tr>
</table>

<h3><a name="wp1130783"></a>Login identification scope and the applicationToken attribute</h3>
<p>The login identification created by the <a href="00000287.htm#2991147"><code>cflogin</code></a> tag is valid only for pages within the directory that contains the page that uses the <code>cflogin</code> tag and any of its subdirectories. Therefore, if a user requests a page in another directory tree, the current login credentials are not valid for accessing those pages. This security limitation lets you use the same user names and passwords for different sections of your application (for example, a UserFunctions tree and a SecurityFunctions tree) and enforce different roles to the users depending on the section. </p>
<p>ColdFusion uses the <code>applicationToken</code> value to generate a unique identifier that enforces this rule. The default <code>applicationToken</code> value is the current application name, as specified by a <a href="00000217.htm#1097308"><code>cfapplication</code></a> tag or Application.cfc unitization code. In normal use, you do not need to specify an <code>applicationToken</code> value in the <code>cflogin</code> tag.</p>
<h3><a name="wp1140736"></a>Specifying the Internet domain</h3>
<p>Use the <code>cookieDomain</code> attribute to specify the domain of the cookie used to mark a user as logged-in. You use <code>cookieDomain</code> if you have a clustered environment (for example, www.acme.com, www2.acme.com, and so on). This lets the cookie work for all computers in the cluster. For example, to ensure that the cookie works for all servers in the acme.com domain, specify <code>cookieDomain=&quot;.acme.com&quot;.</code> To specify a domain name, start the name with a period.</p>
<p><strong>Caution: </strong>Before setting the cookie domain, consider the other applications or servers in the broader domain might have access to the cookie. For example, a clustered payroll application at payroll1.acme.com, payroll2.acme.com, and so on, might reveal sensitive information to the test computer at test.acme.com, if the cookie domain is broadly set to .acme.com.</p>

<hr />
<p align="right"><p align="right"><a href="00001179.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001181.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001180.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



