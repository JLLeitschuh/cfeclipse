<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>cfthrow</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000342.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000344.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>cfthrow</h1>
<h4><a name="wp2773592"></a>Description</h4>
<p>Throws a developer-specified exception, which can be caught with a <code>cfcatch</code> tag that has any of the following <code>type</code> attribute options:</p>
<ul>
<li>
   <code>type = &quot;</code><code><i>custom_type</i></code><code>&quot;</code> 
</li>
<li>
   <code>type = &quot;Application&quot;</code> 
</li>
<li>
   <code>type = &quot;Any&quot;</code> 
</li>
</ul>
<h4><a name="wp1962312"></a>Category</h4>
<p><a href="00000201.htm#2459716">Exception handling tags</a>, <a href="00000204.htm#2459878">Flow-control tags</a></p>
<h4><a name="wp2652700"></a>Syntax&#160;1</h4>
<pre>&lt;cfthrow <br />   type = &quot;exception_type &quot;<br />   message = &quot;message&quot;<br />   detail = &quot;detail_description &quot;<br />   errorCode = &quot;error_code &quot;<br />   extendedInfo = &quot;additional_information&quot;
   object = &quot;java_except_object&quot;&gt;
</pre><h4><a name="wp1104093"></a>Syntax&#160;2</h4>
<pre>&lt;cfthrow <br />   object = #object_name#&gt;
</pre><h4><a name="wp1962366"></a>See also</h4>
<p><a href="00000242.htm#2022557"><code>cferror</code></a>, <a href="00000325.htm#1102913"><code>cfrethrow</code></a>, <a href="00000349.htm#1104557"><code>cftry</code></a>, <a href="00000697.htm#1188543">onError</a>; <a href="00001130.htm#1220254">Handling Errors</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp2809956"></a>History</h4>
<p>ColdFusion&#160;MX: Changed thrown exceptions: this tag can throw ColdFusion component method exceptions.</p>
<h4><a name="wp1429188"></a>Attributes</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Attribute
    </th>
    <th>
Req/Opt
    </th>
    <th>
Default
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>type</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Application</p>
    </td>
    <td>
<ul>
<li>
   A custom type
</li>
<li>
   Application
</li>
</ul>
<p>Do not enter another predefined type; types are not generated by ColdFusion applications. If you specify Application, you need not specify a type for <code>cfcatch</code>.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>message</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Message that describes exception event. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>detail</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Description of the event. ColdFusion appends error position to description; server uses this parameter if an error is not caught by your code.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>errorCode</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>A custom error code that you supply. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>extendedInfo</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>A custom error code that you supply. </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>object</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Requires the value of the <code>cfobject</code> tag <code>name</code> attribute.</p>
<p>Throws a Java exception from a CFML tag.</p>
<p>This attribute is mutually exclusive with all other attributes of this tag.</p>
    </td>
  </tr>
</table>

<h4><a name="wp1104105"></a>Usage</h4>
<p>Use this tag within a <a href="00000349.htm#1104557">cftry</a> block, to throw an error. The <code>cfcatch</code> block can access accompanying information, as follows: </p>
<ul>
<li>
   Message, with <code>cfcatch.message</code> 
</li>
<li>
   Detail, with <code>cfcatch.detail</code> 
</li>
<li>
   Error code, with <code>cfcatch.errorcode</code> 
</li>
</ul>
<p>To get more information, use <code>cfcatch.tagContext</code>. This array shows where control switches from one page to another in the tag stack (for example, <code>cfinclude</code>, <code>cfmodule</code>).</p>
<p>To display the information displayed by <code>tagContext</code>: in the ColdFusion MX Administrator, Debugging page, select Enable CFML Stack Trace.</p>
<p><strong>Using the object parameter&#160;</strong>To use this tag with the <code>object</code> parameter, you must first use a <code>cfobject</code> tag that specifies a valid Java exception class. For example, the following <code>cfobject</code> tag defines an object, obj, of the exception class myException (which you must create in Java):</p>
<pre>&lt;cfobject <br />type=&quot;java&quot; <br />action=&quot;create&quot; <br />class=&quot;myException&quot; <br />name=&quot;obj&quot;&gt;
</pre><p>If your exception class has constructors that take parameters, such as a message, you can use the special <code>init</code> method to invoke the constructor, as in the following line. If you do not need to specify any constructor attributes, you can omit this step.</p>
<pre>&lt;cfset obj.init(&quot;You must save your work before preceding&quot;)&gt;
</pre><p>You can then use the, the <code>cfthrow</code> statement to throw the exception as follows: </p>
<pre>&lt;cfthrow object=#obj#&gt;
</pre><p>For more information on using Java objects in ColdFusion, see <a href="00001557.htm#1176234">Integrating J2EE and Java Elements in CFML Applications</a> in <i>ColdFusion MX Developer's Guide</i>.</p>
<h4><a name="wp2699116"></a>Example&#160;1</h4>
<pre>&lt;h3&gt;cfthrow Example&lt;/h3&gt;
&lt;!--- Open a cftry block. ---&gt;
&lt;cftry&gt;
&lt;!--- Define a condition upon which to throw the error. ---&gt;
&lt;cfif NOT IsDefined(&quot;URL.myID&quot;)&gt;
   &lt;!--- throw the error ---&gt;
   <strong>&lt;cfthrow message = &quot;ID is not defined&quot;&gt;</strong>
&lt;/cfif&gt;

&lt;!--- Perform the error catch. ---&gt;
&lt;cfcatch type = &quot;application&quot;&gt;
&lt;!--- Display your message. ---&gt;
   &lt;h3&gt;You&#39;ve Thrown an &lt;b&gt;Error&lt;/b&gt;&lt;/h3&gt;
&lt;cfoutput&gt;
   &lt;!--- And the diagnostic feedback from the application server. ---&gt;
  &lt;p&gt;#cfcatch.message#&lt;/p&gt;
   &lt;p&gt;The contents of the tag stack are:&lt;/p&gt;
   &lt;cfloop 
      index = i 
      from = 1 to = #ArrayLen(cfcatch.tagContext)#&gt;
          &lt;cfset sCurrent = #cfcatch.tagContext[i]#&gt;
             &lt;br&gt;#i# #sCurrent[&quot;ID&quot;]#
            (#sCurrent[&quot;LINE&quot;]#,#sCurrent[&quot;COLUMN&quot;]#)
            #sCurrent[&quot;TEMPLATE&quot;]#
   &lt;/cfloop&gt;
&lt;/cfoutput&gt;
&lt;/cfcatch&gt;
&lt;/cftry&gt;
</pre><h4><a name="wp2698627"></a>Example2</h4>
<p>The following example shows how to throw an exception from a component method:</p>
<pre>&lt;cfcomponent&gt;
   &lt;cffunction name=&quot;getEmp&quot;&gt;
   &lt;cfargument name=&quot;lastName&quot; required=&quot;yes&quot;&gt;    
       &lt;cfquery name=&quot;empQuery&quot; datasource=&quot;cfdocexamples&quot; &gt;
          SELECT LASTNAME, FIRSTNAME, EMAIL
          FROM tblEmployees
         WHERE LASTNAME LIKE &#39;#arguments.lastName#&#39;
       &lt;/cfquery&gt;
<strong>       &lt;cfif empQuery.recordcount LT 1&gt;</strong>
<strong>          &lt;cfthrow type=&quot;noQueryResult&quot; </strong>
<strong>            message=&quot;No results were found. Please try again.&quot;&gt;</strong>
<strong>         &lt;cfelse&gt;</strong>
<strong>              &lt;cfreturn empQuery&gt;</strong>
<strong>        &lt;/cfif&gt;</strong>
   &lt;/cffunction&gt;
&lt;/cfcomponent&gt;
</pre><p>For an explanation of the example and more information, see <a href="00001022.htm#1170255">Building and Using ColdFusion Components</a> in <i>ColdFusion MX Developer's Guide</i>.</p>


<hr />
<p align="right"><p align="right"><a href="00000342.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000344.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000343.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



