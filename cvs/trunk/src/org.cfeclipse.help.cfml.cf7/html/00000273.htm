<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>cfhttpparam</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000272.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000274.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>cfhttpparam</h1>
<h4><a name="wp1355679"></a>Description</h4>
<p>Allowed inside <a href="00000272.htm#1632966"><code>cfhttp</code></a> tag bodies only. Required for <code>cfhttp</code> POST operations. Optional for all others. Specifies parameters to build an HTTP request. </p>
<h4><a name="wp1888124"></a>Category</h4>
<p><a href="00000206.htm#2460062">Internet Protocol tags</a></p>
<h4><a name="wp1100052"></a>Syntax</h4>
<pre>&lt;<code>cfhttpparam</code> <br />   type = &quot;transaction type&quot;<br />   name = &quot;data name&quot;<br />   value = &quot;data value&quot;<br />   file = &quot;filename&quot;<br />   encoded = &quot;yes&quot; or &quot;no&quot;<br />   mimeType = &quot;MIME type designator&quot;&gt;
</pre><h4><a name="wp1888078"></a>See also</h4>
<p><a href="00000272.htm#1632966"><code>cfhttp</code></a><code>, </code><a href="00000482.htm#1955092"><code>GetHttpRequestData</code></a><code>, </code><a href="00000259.htm#1800554"><code>cfftp</code></a><code>, </code><a href="00000283.htm#1100581"><code>cfldap</code></a><code>, </code><a href="00000297.htm#2355015"><code>cfmail</code></a><code>, </code><a href="00000298.htm#1101294"><code>cfmailparam</code></a><code>, </code><a href="00000311.htm#1101854"><code>cfpop</code></a></p>
<h4><a name="wp3443471"></a>History</h4>
<p>ColdFusion MX&#160;6.1:</p>
<ul>
<li>
   Added the <code>header</code> and <code>body</code> types.
</li>
<li>
   Added the <code>encoded</code> and <code>mimeType</code> attributes.
</li>
<li>
   Changed HTTP method behavior: all HTTP methods can have <code>httpparam</code> tags.
</li>
<li>
   Changed the <code>name</code> attribute requirements: it is not required for all types.
</li>
</ul>
<h4><a name="wp1418566"></a>Attributes</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Attribute
    </th>
    <th>
Req/Opt
    </th>
    <th>
Default
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>type</p>
    </td>
    <td>
<p>Required</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Information type:</p>
<ul>
<li>
   header: specifies an HTTP header. ColdFusion does not URL encode the header.
</li>
<li>
   CGI: specifies an HTTP header. ColdFusion URL encodes the header by default.
</li>
<li>
   body: specifies the body of the HTTP request. ColdFusion does not automatically set a content-type header or URL encode the body contents. To specify the content-type, use a separate <code>cfhttp</code> tag with <code>type=header</code>.
</li>
<li>
   XML: identifies the request as having a content-type of text/xml. Specifies that the <code>value</code> attribute contains the body of the HTTP request. Used to send XML to the destination URL. ColdFusion does not URL encode the XML data.
</li>
<li>
   file: tells ColdFusion to send the contents of the specified file. ColdFusion does not URL encode the file contents.
</li>
<li>
   URL: specifies a URL query string name-value pair to append to the <code>cfhttp</code> <code>url</code> attribute. ColdFusion URL encodes the query string.
</li>
<li>
   formField: specifies a form field to send. ColdFusion URL encodes the Form field by default.
</li>
<li>
   cookie: specifies a cookie to send as an HTTP header. ColdFusion URL encodes the cookie.
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>name</p>
    </td>
    <td>
<p>Required. Optional (and ignored) for Body and XML types</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Variable name for data that is passed. Ignored for Body and XML types. For File type, specifies the filename to send in the request.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>value</p>
    </td>
    <td>
<p>Required. Optional (and ignored) for File type</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Value of the data that is sent. Ignored for File type. The value must contain string data or data that ColdFusion can convert to a string for all <code>type</code> attributes except Body. Body types can have string or binary values.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>file</p>
    </td>
    <td>
<p>Required only if <code>type=&quot;File&quot;</code></p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Applies to File type; ignored for all other types. The absolute path to the file that is sent in the request body.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>encoded</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>yes</p>
    </td>
    <td>
<p>Applies to FormField and CGI types; ignored for all other types. Specifies whether to URL encode the form field or header.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>mimeType</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Applies to File type; invalid for all other types. Specifies the MIME media type of the file contents. The content type can include an identifier for the character encoding of the file; for example, text/html; charset=ISO-8859-1 indicates that the file is HTML text in the ISO Latin-1 character encoding.</p>
    </td>
  </tr>
</table>

<h4><a name="wp1100067"></a>Usage</h4>
<p>Specifies header or body data to send in the HTTP request. The <code>type</code> attribute identifies the information that the parameter specifies. A <code>cfhttp</code> tag can have multiple <code>cfhttpparam</code> tags, subject to the following limitations:</p>
<ul>
<li>
   An <code>XML</code> <code>type</code> attribute cannot be used with additional <code>XML</code> <code>type</code> attributes, or with <code>body</code>, <code>file</code>, or <code>formField</code> <code>type</code> attributes.
</li>
<li>
   A <code>body</code> <code>type</code> attribute cannot be used with additional <code>body</code> <code>type</code> attributes, or with <code>XML</code>, <code>file</code>, or <code>formField</code> <code>type</code> attributes.
</li>
<li>
   The <code>XML</code> and <code>body</code> <code>type</code> attributes cannot be used with the <code>cfhttp</code> tag TRACE method.
</li>
<li>
   The <code>file</code> <code>type</code> attribute is only meaningful with the <code>cfhttp</code> tag POST and PUT methods.
</li>
<li>
   The <code>formField type</code> attribute is only meaningful with the <code>cfhttp</code> tag POST and GET methods.
</li>
</ul>
<p>If you send an HTTP request to a ColdFusion page, all HTTP headers, not just those sent using the CGI type, are available as CGI scope variables, However, any custom variables (such as &quot;myVar&quot;) do not appear in a dump of the CGI scope.</p>
<p>When you send a file using the <code>type=&quot;file&quot;</code> attribute, the file content is sent in the body of a multipart/form-data request. If you send the file to a ColdFusion page, the Form scope of the receiving page contains an entry with the name you specified in the <code>cfhttpparam</code> tag <code>name</code> attribute as the key. The value of this variable is the path to a temporary file containing the file that you sent. If you also send Form field data, the location of the filename in the form.fieldnames key list depends on the position of the <code>cfhttpparam</code> tag with the file relative to the <code>cfhttp</code> tags with the form data.</p>
<p>URL-encoding preserves special characters (such as the ampersand) when they are passed to the server. For more information, see the function <a href="00000659.htm#138993">URLEncodedFormat</a>. </p>
<p>To send arbitrary data in a &quot;raw&quot; HTTP message, use a <code>cfhttpparam</code> tag with a <code>type=&quot;body&quot;</code> attribute to specify the body content and use <code>cfhttpparam</code> tags with a <code>type=&quot;header&quot;</code> attributes to specify the headers. </p>
<h4><a name="wp2413781"></a>Example</h4>
<pre>&lt;!--- This example consists of two CFML pages. 
      The first page posts to the second. ---&gt;

&lt;!--- The first, posting page. 
      This page posts variables to another page and displays the body
      of the response from the second page. 
      Change the URL and port as necessary for your environment. ---&gt;

&lt;cfhttp 
      method=&quot;post&quot; 
      url=&quot;http://127.0.0.1/tests/http/cfhttpparamexample.cfm&quot;
      port=&quot;8500&quot; 
      throwonerror=&quot;Yes&quot;&gt;
   &lt;cfhttpparam name=&quot;form_test&quot; type=&quot;FormField&quot; value=&quot;This is a form variable&quot;&gt;
   &lt;cfhttpparam name=&quot;url_test&quot; type=&quot;URL&quot; value=&quot;This is a URL variable&quot;&gt;
   &lt;cfhttpparam name=&quot;cgi_test&quot; type=&quot;CGI&quot; value=&quot;This is a CGI variable&quot;&gt;
   &lt;cfhttpparam name=&quot;cookie_test&quot; type=&quot;Cookie&quot; value=&quot;This is a cookie&quot;&gt;
&lt;/cfhttp&gt;

&lt;!--- Output the results returned by the posted-to page. ---&gt;
&lt;cfoutput&gt;
   #cfhttp.fileContent#
&lt;/cfoutput&gt;


&lt;!--- This is the cfhttpparamexample.cfm page that receives and processes the Post request. Its response body is the generated HTML output. ---&gt;

&lt;h3&gt;Output the passed variables&lt;/h3&gt;
&lt;cfoutput&gt;
   Form variable: #form.form_test#
   &lt;br&gt;URL variable: #URL.url_test#
   &lt;br&gt;Cookie variable: #Cookie.cookie_test#
   &lt;br&gt;CGI variable: #CGI.cgi_test#&lt;br&gt;
   &lt;br&gt;Note that the CGI variable is URL encoded.
&lt;/cfoutput&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000272.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000274.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000273.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



