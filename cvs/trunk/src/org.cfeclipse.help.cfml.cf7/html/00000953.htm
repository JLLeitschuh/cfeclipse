<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Adding elements to an array</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000952.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000954.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Adding elements to an array</h1>
<p>You can add an element to an array by assigning the element a value or by using a ColdFusion function. </p>
<h3><a name="wp1120258"></a>Adding an array element by assignment</h3>
<p>You can add elements to an array by defining the value of an array element, as shown in the following <a href="00000334.htm#1103445"><code>cfset</code></a> tag:</p>
<pre>&lt;cfset myarray[5]=&quot;Test Message&quot;&gt;
</pre><p>If an element does not exist at the specified index, ColdFusion creates it. If an element already exists at the specified index, ColdFusion replaces it with the new value. To prevent existing data from being overwritten, use the <a href="00000385.htm#1100451"><code>ArrayInsertAt</code></a> function, as described in the next section.</p>
<p>If elements with lower-number indexes do not exist, they remain undefined. You must assign values to undefined array elements before you can use them. For example, the following code creates an array and an element at index 4. It outputs the contents of element 4, but generates an error when it tries to output the (nonexistent) element 3.</p>
<pre>&lt;cfset myarray=ArrayNew(1)&gt;
&lt;cfset myarray[4]=4&gt;
&lt;cfoutput&gt;
   myarray4: #myarray[4]#&lt;br&gt;
   myarray3: #myarray[3]#&lt;br&gt;
&lt;/cfoutput&gt;
</pre><h3><a name="wp1120213"></a>Adding an array element with a function</h3>
<p>You can use the following array functions to add data to an array:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Function
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p><a href="00000381.htm#1100231"><code>ArrayAppend</code></a></p>
    </td>
    <td>
<p>Creates a new array element at the end of the array.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p><a href="00000391.htm#1100739"><code>ArrayPrepend</code></a></p>
    </td>
    <td>
<p>Creates a new array element at the beginning of the array.</p>
    </td>
  </tr>
  <tr>
    <td>
<p><a href="00000385.htm#1100451"><code>ArrayInsertAt</code></a></p>
    </td>
    <td>
<p>Inserts an array element at the specified index position.</p>
    </td>
  </tr>
</table>

<p>Because ColdFusion arrays are dynamic, if you add or delete an element from the array, any higher-numbered index values all change. For example, the following code creates a two element array and displays the array contents. It then uses <code>ArrayPrepend</code> to insert a new element at the beginning of the array and displays the result. The data that was originally in indexes 1 and 2 is now in indexes 2 and 3.</p>
<pre>&lt;!--- Create an array with three elements ---&gt;
&lt;cfset myarray=ArrayNew(1)&gt;
&lt;cfset myarray[1]=&quot;Original First Element&quot;&gt;
&lt;cfset myarray[2]=&quot;Original Second Element&quot;&gt;
&lt;!--- Use cfdump to display the array structure ---&gt;
&lt;cfdump var=#myarray#&gt;
&lt;br&gt;
&lt;!--- Add a new element at the beginning of the array ---&gt;
&lt;cfscript&gt;
   ArrayPrepend(myarray, &quot;New First Element&quot;);
&lt;/cfscript&gt;
&lt;!--- Use cfdump to display the new array structure ---&gt;
&lt;cfdump var=#myarray#&gt;
</pre><p>For more information about these array functions, see <i>CFML Reference</i>.</p>


<hr />
<p align="right"><p align="right"><a href="00000952.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000954.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000953.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



