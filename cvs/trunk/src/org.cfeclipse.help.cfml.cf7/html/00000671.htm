<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>XmlParse</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000670.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000672.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>XmlParse</h1>
<h4><a name="wp139865"></a>Description</h4>
<p>Converts XML text into an XML document object. </p>
<h4><a name="wp139867"></a>Returns</h4>
<p>An XML document object.</p>
<h4><a name="wp139869"></a>Category</h4>
<p><a href="00000356.htm#1098761">Conversion functions</a>, <a href="00000372.htm#3468770">XML functions</a></p>
<h4><a name="wp139880"></a>Function syntax</h4>
<pre><code><strong>XmlParse</strong></code>(<i>xmlText</i> [[, <i>caseSensitive</i> ], <i>validator</i>])
</pre><h4><a name="wp139882"></a>See also</h4>
<p><a href="00000352.htm#2497244"><code>cfxml</code></a>, <a href="00000536.htm#4979215"><code>IsXML</code></a>, <a href="00000655.htm#138710"><code>ToString</code></a>, <a href="00000668.htm#139554"><code>XmlFormat</code></a>, <a href="00000670.htm#139785"><code>XmlNew</code></a>, <a href="00000672.htm#141075"><code>XmlSearch</code></a>, <a href="00000673.htm#140093"><code>XmlTransform</code></a>, <a href="00000674.htm#140217"><code>XmlValidate</code></a>; <a href="00001505.htm#1158596">Using XML and WDDX</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp139911"></a>History</h4>
<p>ColdFusion&#160;MX&#160;7: </p>
<ul>
<li>
   Added the <code>validator</code> parameter. 
</li>
<li>
   Added support for filenames and URLs in the <code><i>xmlText</i></code> parameter.
</li>
<li>
   Added support for relative URLs and path names.
</li>
</ul>
<p>ColdFusion&#160;MX: Added this function.</p>
<h4><a name="wp139923"></a>Parameters</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Parameter
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>xmlText</p>
    </td>
    <td>
<p>Any of the following:</p>
<ul>
<li>
   A string containing XML text.
</li>
<li>
   The name of an XML file.
</li>
<li>
   The URL of an XML file; valid protocol identifiers include http, https, ftp, and file.
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>caseSensitive</p>
    </td>
    <td>
<ul>
<li>
   Yes: maintains the case of document elements and attributes.
</li>
<li>
   No: Default
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>validator</p>
    </td>
    <td>
<p>Any of the following:</p>
<ul>
<li>
   The name of a Document Type Definition (DTD) or XML Schema file.
</li>
<li>
   The URL of a DTD or Schema file; valid protocol identifiers include http, https, ftp, and file.
</li>
<li>
   A string representation of a DTD or Schema.
</li>
<li>
   An empty string; in this case, the XML file must contain an embedded DTD or Schema identifier, which is used to validate the document.
</li>
</ul>
    </td>
  </tr>
</table>

<h4><a name="wp139950"></a>Usage</h4>
<p>If you specify a relative URL or path name in a parameter, ColdFusion uses the directory (or, for URLs, the logical directory) that contains the current ColdFusion page as the path root. </p>
<p>The <code><i>caseSensitive</i></code> parameter value determines whether identifiers whose characters are of varying case, but are otherwise the same, refer to different components; for example:</p>
<ul>
<li>
   If true, the element or attribute names &quot;name&quot; and &quot;NAME&quot; refer to different elements or attributes.
</li>
<li>
   If false, these names refer to the same elements or attributes.
</li>
</ul>
<p>If your XML object is case sensitive, you cannot use dot notation to reference an element or attribute name. Use the name in associative array (bracket) notation, or a reference that does not use the case-sensitive name (such as xmlChildren[1]) instead. In the following code, the first line will work with a case-sensitive XML object. The second and third lines cause errors:</p>
<pre>
MyDoc.xmlRoot.XmlAttributes[&quot;Version&quot;] = &quot;12b&quot;;
MyDoc.xmlRoot.XmlAttributes.Version = &quot;12b&quot;;
MyDoc.MyRoot.XmlAttributes[&quot;Version&quot;] = &quot;12b&quot;;
</pre>
<p>The optional <code><i>validator</i></code> parameter specifies a DTD or Schema to use to validate the document. If the parser encounters a validation error, ColdFusion generates an error and stops parsing the document. You must specify a <code><i>validator</i></code> parameter to make the <code>XmlParse</code> function validate your document. If you do not specify a <code><i>validator</i></code> parameter, and the XML file specifies a DTD or Schema, ColdFusion ignores the DTD or Schema. If you specify a <code><i>validator</i></code> parameter, you must also specify a <code><i>caseSensitive</i></code> parameter.</p>
<p>If you do not specify a <code><i>validator</i></code> parameter, the <code><i>xmlText</i></code> parameter can specify a well-formed XML fragment, and does not have to specify a complete document.</p>
<p><strong>Note: </strong>To convert an XML document object back into a string, use the <a href="00000655.htm#138710"><code>ToString</code></a> function.</p><h4><a name="wp139957"></a>Example</h4>
<p>The following example has three parts: an XML file, a DTD file, and a CFML page that parses the XML file and uses the DTD for validation. The CFML file displays the returned XML document object. To show the results of invalid XML, modify the bmenuD.xml.</p>
<p><strong>Note: </strong>The DTD used in the following example represents the same XML structure as the Schema used in the <a href="00000674.htm#140217">XmlValidate</a> example.</p><p>The custorder.xml file is as follows:</p>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE order SYSTEM &quot;C:\CFusionMX7\wwwroot\examples\custorder.dtd&quot;&gt;
&lt;order id=&quot;4323251&quot;&gt;
   &lt;customer firstname=&quot;Philip&quot; lastname=&quot;Cramer&quot; accountNum=&quot;21&quot;/&gt;
   &lt;items&gt;
      &lt;item id=&quot;43&quot;&gt;
         &lt;name&gt;   Deluxe Carpenter&amp;apos;s Hammer&lt;/name&gt;
         &lt;quantity&gt;1&lt;/quantity&gt;
         &lt;unitprice&gt;15.95&lt;/unitprice&gt;
      &lt;/item&gt;
      &lt;item id=&quot;54&quot;&gt;
         &lt;name&gt;   36&amp;quot; Plastic Rake&lt;/name&gt;
         &lt;quantity&gt;2&lt;/quantity&gt;
         &lt;unitprice&gt;6.95&lt;/unitprice&gt;
      &lt;/item&gt;
      &lt;item id=&quot;68&quot;&gt;
         &lt;name&gt;   Standard paint thinner&lt;/name&gt;
         &lt;quantity&gt;3&lt;/quantity&gt;
         &lt;unitprice&gt;8.95&lt;/unitprice&gt;
      &lt;/item&gt;
   &lt;/items&gt;
&lt;/order&gt;
</pre><p>The custorder.dtd file is as follows:</p>
<pre>&lt;!ELEMENT order (customer, items)&gt;
&lt;!ATTLIST order
   id CDATA #REQUIRED&gt;
&lt;!ELEMENT customer EMPTY&gt;
&lt;!ATTLIST customer
   firstname CDATA #REQUIRED
   lastname CDATA #REQUIRED
   accountNum CDATA #REQUIRED&gt;
&lt;!ELEMENT items (item+)&gt;
&lt;!ELEMENT item (name, quantity, unitprice)&gt;
&lt;!ATTLIST item 
   id CDATA #REQUIRED&gt;
&lt;!ELEMENT name (#PCDATA)&gt;
&lt;!ELEMENT quantity (#PCDATA)&gt;
&lt;!ELEMENT unitprice (#PCDATA)&gt;
</pre><p>The CFML file is as follows. It uses a filename for the XML file and a URL for the DTD.  Note that the XML and URL paths must be absolute.</p>
<pre>&lt;cfset
myDoc=XMLParse(&quot;C:\CFusionMX7\wwwroot\examples\custorder.xml&quot;,
false, &quot;http://localhost:8500/examples/custorder.dtd&quot;)&gt;
Dump of myDoc XML document object&lt;br&gt;
&lt;cfdump var=&quot;#myDoc#&quot;&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000670.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000672.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000671.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



