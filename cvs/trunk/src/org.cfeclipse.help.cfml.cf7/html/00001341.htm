<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Working with queries and data</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001340.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001342.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Working with queries and data</h1>
<p>The ability to generate and display query data is one of the most important and flexible features of ColdFusion. The following sections describe more about using queries and displaying their results. Some of these tools are effective for presenting any data, not just query results.</p>
<ul>
<li>
   <a href="00001341.htm#1114511">Using HTML tables to display query results</a>
</li>
<li>
   <a href="00001342.htm#1096530">Formatting individual data items</a>
</li>
<li>
   <a href="00001343.htm#1096599">Building flexible search interfaces</a>
</li>
</ul>
<h2><a name="wp1114511"></a>Using HTML tables to display query results</h2>
<p>You can use HTML tables to specify how the results of a query appear on a page. To do so, you put the <a href="00000309.htm#1101659"><code>cfoutput</code></a> tag <i>inside</i> the table tags. You can also use the HTML <code>th</code> tag to put column labels in a header row. To create a row in the table for each row in the query results, put the <code>tr</code> block inside the <code>cfoutput</code> tag. </p>
<p>In addition, you can use CFML functions to format individual pieces of data, such as dates and numeric values.</p>
<h4>To put the query results in a table:</h4>
<ol>
<li>
   Open the ColdFusion actionpage.cfm page in your editor.
</li>
<li>
   Modify the page so that it appears as follows:
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Retrieving Employee Data Based on Criteria from Form&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;cfquery name=&quot;GetEmployees&quot; datasource=&quot;cfdocexamples&quot;&gt;
	SELECT FirstName, LastName, Salary
	FROM Employee
	WHERE LastName=&lt;cfqueryparam value=&quot;#Form.LastName#&quot; <br />
CFSQLType=&quot;CF_SQL_VARCHAR&quot;&gt;
&lt;/cfquery&gt;
&lt;h4&gt;Employee Data Based on Criteria from Form&lt;/h4&gt;
&lt;table&gt;
&lt;tr&gt;
&lt;th&gt;First Name&lt;/th&gt;
&lt;th&gt;Last Name&lt;/th&gt;
&lt;th&gt;Salary&lt;/th&gt;
&lt;/tr&gt;
&lt;cfoutput query=&quot;GetEmployees&quot;&gt;
&lt;tr&gt;
&lt;td&gt;#FirstName#&lt;/td&gt;
&lt;td&gt;#LastName#&lt;/td&gt;
&lt;td&gt;#Salary#&lt;/td&gt;
&lt;/tr&gt;
&lt;/cfoutput&gt;
&lt;/table&gt;
&lt;br&gt;
&lt;cfif IsDefined(&quot;Form.Contractor&quot;)&gt;
	&lt;cfoutput&gt;Contractor: #Form.Contractor#&lt;/cfoutput&gt;
&lt;/cfif&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</li>
<li>
   Save the page as actionpage.cfm in the myapps directory. 
</li>
<li>
   View the formpage.cfm page in your browser.
</li>
<li>
   Enter Smith in the Last Name text box and submit the form.
<p>The records that match the criteria specified in the form appear in a table. </p>
</li>
</ol>
<h4><a name="wp1096528"></a>Reviewing the code</h4>
<p>The following table describes the highlighted code and its function:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Code
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<pre>&lt;table&gt;
</pre>    </td>
    <td>
<p>Puts data into a table.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<pre>&lt;tr&gt;
   &lt;th&gt;First Name&lt;/th&gt;
   &lt;th&gt;Last Name&lt;/th&gt;
   &lt;th&gt;Salary&lt;/th&gt;
&lt;/tr&gt;
</pre>    </td>
    <td>
<p>In the first row of the table, includes three columns, with the headings: First Name, Last Name, and Salary.</p>
    </td>
  </tr>
  <tr>
    <td>
<pre>&lt;cfoutput query=&quot;GetEmployees&quot;&gt;
</pre>    </td>
    <td>
<p>Tells ColdFusion to display the results of the GetEmployees query.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<pre>&lt;tr&gt;
   &lt;td&gt;#FirstName#&lt;/td&gt;
   &lt;td&gt;#LastName#&lt;/td&gt;
   &lt;td&gt;#Salary#&lt;/td&gt;
&lt;/tr&gt;
</pre>    </td>
    <td>
<p>For each record in the query, creates a new row in the table, with three columns that display the values of the FirstName, LastName, and Salary fields of the record. </p>
    </td>
  </tr>
  <tr>
    <td>
<pre>&lt;/cfoutput&gt;
</pre>    </td>
    <td>
<p>Ends the output region.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<pre>&lt;/table&gt;
</pre>    </td>
    <td>
<p>Ends the table.</p>
    </td>
  </tr>
</table>



<hr />
<p align="right"><p align="right"><a href="00001340.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001342.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001341.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



