<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Check boxes</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001346.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001348.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Check boxes</h1>
<p>When you put a series of check boxes with the same name in a form, the variable that is created contains a comma-delimited list of values. The values can be either numeric values or alphanumeric strings. These two types of values are treated slightly differently.</p>
<h3><a name="wp1133328"></a>Handling numeric values</h3>
<p>Suppose you want a user to select one or more departments using check boxes. You then query the database to retrieve detailed information on the selected department(s). The code for a simple set of check boxes that lets the user select departments looks like the following:</p>
<pre>&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;1&quot;&gt;
   Training&lt;br&gt;

&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;2&quot;&gt;
   Marketing&lt;br&gt;

&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;3&quot;&gt;
   HR&lt;br&gt;

&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;4&quot;&gt;
   Sales&lt;br&gt;
&lt;/html&gt;
</pre><p>The user sees the name of the department, but the <code>value</code> attribute of each check box is a number that corresponds to the underlying database primary key for the department's record.</p>
<p>If the user checks the Marketing and Sales items, the value of the SelectedDepts form field is 2,4 and you use the SelectedDepts value in the following SQL statement:</p>
<pre>SELECT *<br />   FROM Departmt<br />   WHERE Dept_ID IN ( #Form.SelectedDepts# )
</pre><p>The ColdFusion server sends the following statement to the database:</p>
<pre>SELECT *<br />   FROM Departmt<br />   WHERE Dept_ID IN ( 2,4 )
</pre><h3><a name="wp1133356"></a>Handling string values</h3>
<p>To search for a database field that contains string values (instead of numeric), you must modify the <code>checkbox</code> and <a href="00000316.htm#1102316"><code>cfquery</code></a> syntax to make sure that the string values are sent to the data source in single-quotation marks (&#39;).</p>
<p>The first example searched for department information based on a numeric primary key field called Dept_ID. Suppose, instead, that the primary key is a database field called Dept_Name that contains string values. In that case, your code for check boxes should look like the following:</p>
<pre>&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;Training&quot;&gt;
   Training&lt;br&gt;

&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;Marketing&quot;&gt;
   Marketing&lt;br&gt;

&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;HR&quot;&gt;
   HR&lt;br&gt;

&lt;cfinput type=&quot;checkbox&quot;
   name=&quot;SelectedDepts&quot;
   value=&quot;Sales&quot;&gt;
   Sales&lt;br&gt;
</pre><p>If the user checked Marketing and Sales, the value of the SelectedDepts form field would be the list Marketing,Sales and you use the following SQL statement: </p>
<pre>SELECT *<br />   FROM Departmt<br />   WHERE Dept_Name IN<br />   (#ListQualify(Form.SelectedDepts,&quot;&#39;&quot;)#)
</pre><p>In SQL, all strings must be surrounded in single-quotation marks. The <a href="00000560.htm#131292"><code>ListQualify</code></a> function returns a list with the specified qualifying character (here, a single-quotation mark) around each item in the list. </p>
<p>If you select the second and fourth check boxes in the form, the following statement gets sent to the database:</p>
<pre>SELECT *<br />   FROM Departmt<br />   WHERE Dept_Name IN (&#39;Marketing&#39;,&#39;Sales&#39;)
</pre>

<hr />
<p align="right"><p align="right"><a href="00001346.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001348.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001347.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



