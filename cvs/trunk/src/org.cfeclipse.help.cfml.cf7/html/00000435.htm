<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>CreateTimeSpan</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000434.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000436.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>CreateTimeSpan</h1>
<h4><a name="wp1224557"></a>Description</h4>
<p>Creates a date/time object that defines a time period. You can add or subtract it from other date-time objects and use it with the <code>cachedWithin</code> attribute of <a href="00000316.htm#1102316"><code>cfquery</code></a>.</p>
<h4><a name="wp3366498"></a>Returns</h4>
<p>A date-time object.</p>
<h4><a name="wp2501410"></a>Category</h4>
<p><a href="00000357.htm#1098968">Date and time functions</a></p>
<h4><a name="wp2130666"></a>Function syntax</h4>
<pre><code><strong>CreateTimeSpan</strong></code>(<i>days</i>, <i>hours</i>, <i>minutes</i>, <i>seconds</i>)
</pre><h4><a name="wp2587671"></a>See also</h4>
<p><a href="00000423.htm#1224498"><code>CreateDateTime</code></a>, <a href="00000437.htm#1102869"><code>DateAdd</code></a>, <a href="00000439.htm#1103075"><code>DateConvert</code></a>; <a href="00001113.htm#1191455">Defining application-level settings and variables</a> in <a href="00001102.htm#1101532">Designing and Optimizing a ColdFusion&#160;Application</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp1281141"></a>Parameters</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Parameter
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>days</p>
    </td>
    <td>
<p>Integer in the range 0-32768; number of days in time period</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>hours</p>
    </td>
    <td>
<p>Number of hours in time period</p>
    </td>
  </tr>
  <tr>
    <td>
<p>minutes</p>
    </td>
    <td>
<p>Number of minutes in time period</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>seconds</p>
    </td>
    <td>
<p>Number of seconds in time period</p>
    </td>
  </tr>
</table>

<h4><a name="wp1102738"></a>Usage</h4>
<p>Creates a special date-time object that should be used only to add and subtract from other date-time objects or with the <a href="00000316.htm#1102316"><code>cfquery</code></a> <code>cachedWithin</code> attribute.</p>
<p>If you use the <code>cachedWithin</code> attribute of <a href="00000316.htm#1102316"><code>cfquery</code></a>, and the original query date falls within the time span you define, cached query data is used. In this case, the <code>CreateTimeSpan</code> function is used to define a period of time from the present backwards. The <code>cachedWithin</code> attribute takes effect only if you enable query caching in the ColdFusion Administrator. For more information, see <a href="00000316.htm#1102316"><code>cfquery</code></a>.</p>
<h4><a name="wp1102747"></a>Example</h4>
<pre>&lt;!--- This example shows the use of CreateTimeSpan with cfquery ---&gt;
&lt;h3&gt;CreateTimeSpan Example&lt;/h3&gt;
&lt;!--- define startrow and maxrows to facilitate &#39;next N&#39; style browsing ---&gt;
&lt;CFPARAM name = &quot;MaxRows&quot; default = &quot;10&quot;&gt;
&lt;CFPARAM name = &quot;StartRow&quot; default = &quot;1&quot;&gt;
&lt;!--- Query database for information, if cached database information has not been updated in the last six hours. --------&gt;
&lt;cfoutput&gt;
&lt;cfquery name = &quot;GetParks&quot; datasource = &quot;cfdocexamples&quot; 
   cachedWithin = &quot;#<strong>CreateTimeSpan(0, 6, 0, 0)</strong>#&quot;&gt;
SELECT   PARKNAME, REGION, STATE
FROM     Parks 
ORDER by ParkName, State
&lt;/cfquery&gt;
&lt;/cfoutput&gt;
&lt;!--- build HTML table to display query ---&gt;
&lt;TABLE cellpadding = 1 cellspacing = 1&gt;
&lt;TR&gt;
   &lt;TD colspan = 2 bgcolor = f0f0f0&gt;
   &lt;B&gt;&lt;I&gt;Park Name&lt;/I&gt;&lt;/B&gt;
   &lt;/TD&gt;
   &lt;TD bgcolor = f0f0f0&gt;
   &lt;B&gt;&lt;i&gt;Region&lt;/I&gt;&lt;/B&gt;
   &lt;/TD&gt;
   &lt;TD bgcolor = f0f0f0&gt;
   &lt;B&gt;&lt;I&gt;State&lt;/I&gt;&lt;/B&gt;
   &lt;/TD&gt;
&lt;/TR&gt;
&lt;!--- Output query, define startrow and maxrows. Use query variable CurrentCount to track the row you are displaying. ---&gt;
&lt;cfoutput query = &quot;GetParks&quot; StartRow = &quot;#StartRow#&quot; <br />MAXROWS = &quot;#MaxRows#&quot;&gt;
&lt;TR&gt;
   &lt;TD valign = top bgcolor = ffffed&gt;
   &lt;B&gt;#GetParks.CurrentRow#&lt;/B&gt;
   &lt;/TD&gt;
   &lt;TD valign = top&gt;
   &lt;FONT SIZE = &quot;-1&quot;&gt;#ParkName#&lt;/FONT&gt;
   &lt;/TD&gt;
   &lt;TD valign = top&gt;
   &lt;FONT SIZE = &quot;-1&quot;&gt;#Region#&lt;/FONT&gt;
   &lt;/TD&gt;
   &lt;TD valign = top&gt;
   &lt;FONT SIZE = &quot;-1&quot;&gt;#State#&lt;/FONT&gt;
   &lt;/TD&gt;
&lt;/TR&gt;
&lt;/cfoutput&gt;
&lt;!--- If number of records is less than or equal to number of rows, offer link to same page, with startrow value incremented by maxrows (in this example,<br />incremented by 10) ---&gt;
&lt;TR&gt;
   &lt;TD colspan = 4&gt;
   &lt;cfif (StartRow + MaxRows) LTE GetParks.RecordCount&gt;
      &lt;a href = &quot;cfquery.cfm?startrow = &lt;cfoutput&gt;#StartRow + MaxRows#
      &lt;/cfoutput&gt;&quot;&gt;See next &lt;cfoutput&gt;#MaxRows#&lt;/cfoutput&gt; rows&lt;/A&gt;
   &lt;/cfif&gt;
   &lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000434.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000436.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000435.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



