<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Writing a Java CFX tag</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001091.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001093.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Writing a Java CFX tag</h1>
<p>To create a Java CFX tag, create a class that implements the <a href="00000817.htm#1165359"><code>Custom tag interface</code></a>. This interface contains one method, <code>processRequest</code>, which is passed <code>Request</code> and <code>Response</code> objects that are then used to do the work of the tag. </p>
<p>The example in the following procedure creates a very simple Java CFX tag named <code>cfx_MyHelloColdFusion</code> that writes a text string back to the calling page. </p>
<h4>To create a Java CFX tag:</h4>
<ol>
<li>
   Create a new source file in your editor with the following code:
<pre>
import com.allaire.cfx.* ;

public class MyHelloColdFusion implements CustomTag&#160;{
   public void processRequest( Request request, Response response )
		throws Exception&#160;{
		String strName = request.getAttribute( &quot;NAME&quot; ) ;
		response.write( &quot;Hello, &quot; + strName ) ;
   }
}
</pre>
</li>
<li>
   Save the file as MyHelloColdFusion.java in the WEB_INF/classes directory.
</li>
<li>
   Compile the java source file into a class file using the Java compiler. If you are using the command-line tools bundled with the JDK, use the following command line, which you execute from within the classes directory: 
<pre>
javac -classpath cf_root\WEB-INF\lib\cfx.jar MyHelloColdFusion.java
</pre>
<p><strong>Note: </strong>The previous command works only if the Java compiler (<code>javac.exe</code>) is in your path. If it is not in your path, specify the fully qualified path; for example, c:\jdk1.3.1_01\bin\javac on Windows or /usr/java/bin/javac on UNIX.</p></li>
</ol>
<p>If you receive errors during compilation, check the source code to make sure you entered it correctly. If no errors occur, you successfully wrote your first Java CFX tag. For information on using your new tag in a ColdFusion page, see <a href="00001093.htm#1127344">Calling the CFX tag from a ColdFusion page</a>.</p>
<p>This section describes the following topics:</p>
<ul>
<li>
   <a href="00001093.htm#1127344">Calling the CFX tag from a ColdFusion page</a>
</li>
<li>
   <a href="00001094.htm#1115149">Processing requests</a>
</li>
<li>
   <a href="00001095.htm#1096455">Life cycle of Java CFX tags</a>
</li>
</ul>


<hr />
<p align="right"><p align="right"><a href="00001091.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001093.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001092.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



