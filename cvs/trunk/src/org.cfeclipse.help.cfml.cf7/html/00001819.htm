<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using the merge utility</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001818.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href=""><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using the merge utility</h1>
<p>The merge utility lets you combine multiple collections with identical schemas. This is useful for merging smaller collections built from different sources into one, large collection. Also, you can use the merge utility to break up the collection into smaller collections of a roughly uniform size.</p>
<p><strong>Note: </strong>The Verity merge utility is available only in Windows.</p><p>Collections can be merged only if they have identical schemas. Collections can be merged if they have exactly the same set of style files (and style file entries).</p>
<p>Breaking up a large collection helps to optimize search performance, because it allows many applications to perform multiple concurrent search requests over the different collections. After breaking up a large collection, you can also discard older collections to reclaim limited disk storage space.</p>
<p>The merge executable, which starts the merge application, is located in the _nti40/bin directory. For more information on the specific location of this directory, see <a href="00001799.htm#1026491">Location of Verity utilities</a>.</p>
<p>For example:</p>
<pre>c:\cfusionmx7\verity\k2\_nti40\bin\merge /common = c:\cfusionmx7\lib\common
</pre><p>To obtain help for the merge utility, enter the following command:</p>
<pre>merge -help
</pre><p><strong>Note: </strong>After running the merge utility, you must optimize the collection, using the mkvdk <code>-optimize</code> option.</p><p>This section describes the following topics:</p>
<ul>
<li>
   <a href="00001819.htm#1000590">Merging collections using the merge utility</a>
</li>
<li>
   <a href="00001819.htm#1000598">Splitting collections using the merge utility</a>
</li>
</ul>
<h2><a name="wp1000590"></a>Merging collections using the merge utility</h2>
<p>The following is the syntax for using the merge utility to merge multiple collections into a single collection:</p>
<pre>merge &lt;newCollection&gt; &lt;srcCollection1&gt; &lt;srcCollection2&gt; [srcCollectionN]
</pre><p>The utility reads srcCollection1, srcCollection2 and so on and merges them into a single collection with the directory name given for newCollection If the directory name given for newCollection does not exist, it is created.</p>
<h2><a name="wp1000598"></a>Splitting collections using the merge utility</h2>
<p>The following is the syntax for using the merge utility to split a single large collection into smaller collections:</p>
<pre>merge -split &lt;srcCollection&gt; &lt;newCollection1&gt; &lt;newCollection2&gt; [-number]
</pre><p>The merge utility reads srcCollection and splits it into roughly equal pieces, using the filenames given for newCollection1 and so on.</p>
<p>If you want to split a very large collection into a large number of new collections, you can use the following command, instead of explicitly naming each new collection:</p>
<pre>merge -split -number newCollection srcCollection
</pre><p>The merge utility reads the collection identified by srcCollection and splits it into the number of segments specified by the <code>-number</code> option. The name of the first new collection is generated by appending the first two letters in the alphabet (aa) to the directory name given for newCollection. Each subsequent filename is generated by incrementing one of the appended letters (up to zz) for a maximum of 676 partitions. For example, if the value of <code>-number</code> is 3, and the value of newCollection is Collection1, the collections are named, Collection1aa, Collection1ab, and Collection1ac.</p>
<p><strong>Note: </strong>The maximum length of the directory name given for <code>newCollection</code> is two characters less than the length allowed by the file system.</p>

<hr />
<p align="right"><p align="right"><a href="00001818.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href=""><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001819.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



