<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using the cftrace tag to trace execution</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001220.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001222.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using the cftrace tag to trace execution</h1>
<p>The <a href="00000345.htm#2698629"><code>cftrace</code></a> tag displays and logs debugging data about the state of your application at the time the <code>cftrace</code> tag executes. You use it to provide &quot;snapshots&quot; of specific information as your application runs.</p>
<p>This section describes the following topics:</p>
<ul>
<li>
   <a href="00001221.htm#1121588">About the cftrace tag</a>
</li>
<li>
   <a href="00001222.htm#1121724">Using tracing</a>
</li>
<li>
   <a href="00001223.htm#1121319">Calling the cftrace tag</a>
</li>
</ul>
<h2><a name="wp1121588"></a>About the cftrace tag</h2>
<p>The <code>cftrace</code> tag provides the following information:</p>
<ul>
<li>
   A severity identifier specified by the <code>cftrace</code> tag <code>type</code> attribute
</li>
<li>
   A timestamp indicating when the <code>cftrace</code> tag executed
</li>
<li>
   The time elapsed between the start of processing the request and when the current <code>cftrace</code> tag executes.
</li>
<li>
   The time between any previous <code>cftrace</code> tag in the request and the current one. If this is the first <code>cftrace</code> tag processed for the request, the output indicates &quot;1st trace&quot;. ColdFusion does not display this information in inline trace output, only the log and in the standard debugging output.
</li>
<li>
   The name of the page that called the <code>cftrace</code> tag
</li>
<li>
   The line on the page where the <code>cftrace</code> call is located
</li>
<li>
   A trace category specified by the <code>category</code> attribute
</li>
<li>
   A message specified by the <code>text</code> attribute
</li>
<li>
   The name and value, at the time the <code>cftrace</code> call executes, of a single variable specified by the <code>var</code> attribute
</li>
</ul>
<p>A typical <code>cftrace</code> tag might look like the following:</p>
<pre>&lt;cftrace category=&quot;UDF End&quot; inline = &quot;True&quot; var = &quot;MyStatus&quot; <br />text = &quot;GetRecords UDF call has completed&quot;&gt;
</pre><p>You can display the <code>cftrace</code> tag output in either or both of the following ways:</p>
<ul>
<li>
   <strong>As a section in the debugging output</strong>&#160;To display the trace information in the debugging output, in the Administrator, select Tracing Information on the Debugging Settings page.
</li>
<li>
   <strong>In-line in your application page</strong>&#160;When you specify the <code>inline</code> attribute in a <code>cftrace</code> tag, ColdFusion displays the trace output on the page at the <code>cftrace</code> tag location<code>. (</code>An inline <code>cftrace</code> tag does not display any output if it is inside a <a href="00000336.htm#1103549"><code>cfsilent</code></a> tag block.)
</li>
</ul>
<p>The <code>cftrace</code> tag executes only if you select Enable Debugging on the ColdFusion&#160;MX Administrator Debugging Settings page. To display the trace results in the debugging output, you must also specify Tracing Information on the Debugging Settings page; otherwise, the trace information is logged and inline traces are displayed, but no trace information appears in the debugging output.</p>
<p><strong>Note: </strong>When you use in-line trace tags, ColdFusion sends the page to the browser after all page processing is completed, but before it displays the debugging output from the debug template. As a result, if an error occurs after a trace tag but before the end of the page, ColdFusion might not display the trace for that tag.</p><p>An in-line trace messages look like the following:</p>
<p><br />
<img src="images/traceou4.jpg" alt="An in-line trace message" border="0" hspace="0" vspace="0"/>
<br />
 </p>
<p>The following table lists the displayed information:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Entry
    </th>
    <th>
Meaning
    </th>
  </tr>
  <tr>
    <td>
<p><br />
<img src="images/debuga3.jpg" align="left" alt="The Information icon for the logging severity type " border="0" hspace="0" vspace="0"/>
<br />
</p>
    </td>
    <td>
<p>Trace type (severity) specified in the <code>cftrace</code> call; in this case, Information.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>[CFTRACE 13:21:11.011] </p>
    </td>
    <td>
<p>Time when the <code>cftrace</code> tag executed.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>[501 ms]</p>
    </td>
    <td>
<p>Time taken for processing the current request to the point of the <code>cftrace</code> tag.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>[C:\CusionMX\wwwroot\MYStuff\</p>
<p>mydocs\tractest.cfm]</p>
    </td>
    <td>
<p>Path in the web server of the page that contains the <code>cftrace</code> tag.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>@ line:14</p>
    </td>
    <td>
<p>The line number of the <code>cftrace</code> tag.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>[UDF End]</p>
    </td>
    <td>
<p>Value of the <code>cftrace</code> tag <code>category</code> attribute.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>GetRecords UDF call has completed</p>
    </td>
    <td>
<p>The <code>cftrace</code> tag <code>text</code> attribute with any variables replaced with their values.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>MyStatus Success</p>
    </td>
    <td>
<p>Name and value of the variable specified by the <code>cftrace</code> tag <code>var</code> attribute.</p>
    </td>
  </tr>
</table>

<p>ColdFusion logs all <code>cftrace</code> output to the file logs\cftrace.log in your ColdFusion installation directory.</p>
<p>A log file entry looks like the following:</p>
<pre>&quot;Information&quot;,&quot;web-29&quot;,&quot;04/01/02&quot;,&quot;13:21:11&quot;,&quot;MyApp&quot;,&quot;[501 ms (1st trace)] [C:\CFusionMX7\wwwroot\MYStuff\mydocs\tractest.cfm @ line: 14] - [UDF End] [MyStatus = Success] GetRecords UDF call has completed &quot;
</pre><p>This entry is in standard ColdFusion log format, with comma-delimited fields inside double-quote characters. The information displayed in the trace output is in the last, message, field. </p>
<p>The following table lists the contents of the trace message and the log entries. For more information on the log file format, see <a href="00001139.htm#1103550">Logging errors with the cflog tag</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Entry
    </th>
    <th>
Meaning
    </th>
  </tr>
  <tr>
    <td>
<p>Information</p>
    </td>
    <td>
<p>The Severity specified in the <code>cftrace</code> call.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>web-29</p>
    </td>
    <td>
<p>Server thread that executed the code.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>04/01/02</p>
    </td>
    <td>
<p>Date the trace was logged.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>13:21:11</p>
    </td>
    <td>
<p>Time the trace was logged.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>MyApp</p>
    </td>
    <td>
<p>The application name, as specified in a <a href="00000217.htm#1097308"><code>cfapplication</code></a> tag.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>501 ms (1st trace)]</p>
    </td>
    <td>
<p>The time ColdFusion took to process the current request up to the <code>cftrace</code> tag, This is the first <code>cftrace</code> tag processed in this request. If there had been a previous <code>cftrace</code> tag, the parentheses would contain the number of milliseconds between when the previous <code>cftrace </code>tag ran and when this tag ran.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>[C:\CFusionMX7\wwwroot\MYStuff\mydocs\<br />tracetest.cfm @ line: 14]</p>
    </td>
    <td>
<p>Path of the page on which the trace tag is located and the line number of the <code>cftrace</code> tag on the page.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>[UDF End]</p>
    </td>
    <td>
<p> Value of the <code>cftrace</code> tag <code>category</code> attribute.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>[MyStatus = Success]</p>
    </td>
    <td>
<p>Name and value of the variable specified by the <code>cftrace</code> tag <code>var</code> attribute. If the variable is a complex data type, such as an array or structure, the log contains the variable value and the number of entries at the top level of the variable, such as the number of top-level structure keys.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>GetRecords UDF call has completed</p>
    </td>
    <td>
<p>The <code>cftrace</code> tag <code>text</code> attribute with any variables replaced with their values.</p>
    </td>
  </tr>
</table>



<hr />
<p align="right"><p align="right"><a href="00001220.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001222.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001221.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



