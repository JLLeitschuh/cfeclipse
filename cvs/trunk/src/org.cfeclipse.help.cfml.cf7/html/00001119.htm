<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Managing sessions in Application.cfc</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001118.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001120.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Managing sessions in Application.cfc</h1>
<p>You use the <code>onSessionStart</code> and <code>onSessionEnd</code> methods to configure and manage user sessions; that is, to control resources that are used by multiple pages while a user is accessing your site from during a single browser session. The session begins when a user first requests a page in your application, and ends either when the session times out or, if you are using J2EE session management, when the user closes the browser when the user closes the browser. For more information on Session scope and Session variables, see <a href="00001147.htm#1159066">Using Persistent Data and Locking</a>.</p>
<p>Session resources include variables that store data that is needed throughout the session, such as account numbers, shopping cart contents, or CFCs that contain methods and data that are used by multiple pages in a session.</p>
<p><strong>Note: </strong>Do not put the <code>cflogin</code> tag or basic login processing in the onSessionStart method, as the code executes only at the start of the session; it cannot handle user logouts, and cannot fully ensure security.</p><p>The following sections describe some of the ways you can use the <code>onSessionStart</code> and <code>onSessionEnd</code> methods. For more information, see the <a href="00000702.htm#1186741"><code>onSessionStart</code></a> and <a href="00000701.htm#1188499"><code>onSessionEnd</code></a> entries in <i>CFML Reference</i>.</p>
<h3><a name="wp1193243"></a>Using the onSessionStart method</h3>
<p>This method is useful for initializing session data, such as user settings or shopping cart contents, or for tracking the number of active sessions. You do not need to lock the Session scope when you set session variables in this method.</p>
<h3><a name="wp1193244"></a>Using the onSessionEnd method</h3>
<p>Use this method for any clean-up activities when the session ends. (For information on ending sessions, see <a href="00001163.htm#1211974">Ending a session</a>.) You can, for example, save session-related data, such as shopping cart contents or information about whether the user has not completed an order, in a database, or you can log the end of the session to a file. You cannot use this method to display data on a user page, because it is not associated with a request.</p>
<p><strong>Note: </strong>Sessions do not end, and the <code>onSessionEnd</code> method is not called when an application ends. For more information, see the <a href="00000701.htm#1188499"><code>onSessionEnd</code></a> entry in <i>CFML Reference</i>.</p>

<hr />
<p align="right"><p align="right"><a href="00001118.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001120.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001119.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



