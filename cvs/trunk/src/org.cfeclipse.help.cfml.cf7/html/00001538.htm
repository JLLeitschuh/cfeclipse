<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using CFScript to consume a web service</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001537.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001539.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using CFScript to consume a web service</h1>
<p>The example in this section uses CFScript to consume a web service. In CFScript, you use the <a href="00000424.htm#1102241"><code>CreateObject</code></a> function to connect to the web service. After connecting, you can make requests to the service. For <a href="00000424.htm#1102241"><code>CreateObject</code></a> syntax, see <i>CFML Reference</i>.</p>
<p>After creating the web service object, you can call operations of the web service using dot notation, in the following form:</p>
<pre><code><i>webServiceName.operationName(inputVal1, inputVal2, ... )</i></code>
</pre><p>You can handle return values from web services by writing them to a variable, as the following example shows:</p>
<pre><code><i>resultVar = webServiceName.operationName(inputVal1, inputVal2,</i></code><i> ... </i>);
</pre><p>Or, you can pass the return values directly to a function, such as the <a href="00000665.htm#139339"><code>WriteOutput</code></a> function, as the following example shows:</p>
<pre><code>writeoutput</code>(<code><i>webServiceName.operationName(inputVal1, inputVal2,</i></code><i> ...</i>) );
</pre><h4>To access a web service from CFScript:</h4>
<ol>
<li>
   Create a ColdFusion page with the following content:
<pre>
&lt;cfscript&gt;
  ws = CreateObject(&quot;webservice&quot;, 
    &quot;http://www.xmethods.net/sd/2001/TemperatureService.wsdl&quot;);
  xlatstring = ws.getTemp(&quot;55987&quot;);
  writeoutput(xlatstring);
&lt;/cfscript&gt;
</pre>
</li>
<li>
   Save the page as wscfscript.cfm in your web root directory.
</li>
<li>
   View the page in your browser.
</li>
</ol>
<p>You can also use named parameters to pass information to a web service. The following example performs the same operation as above, except that it uses named parameters to make the web service request:</p>
<pre>&lt;cfscript&gt;
  ws = CreateObject(&quot;webservice&quot;, 
    &quot;http://www.xmethods.net/sd/2001/TemperatureService.wsdl&quot;);
  xlatstring = ws.getTemp(zipcode = &quot;55987&quot;);
  writeoutput(&quot;The temperature at 55987 is &quot; &amp; xlatstring);
&lt;/cfscript&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00001537.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001539.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001538.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



