<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Testing for a variable's existence </title>
</head>
<body>
<p align="right"><p align="right"><a href="00000915.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000917.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Testing for a variable's existence </h1>
<p>Before relying on a variable's existence in an application page, you can test to see if it exists by using the <a href="00000520.htm#1106482"><code>IsDefined</code></a> function. To check whether a specific key exists in a structure, use the <a href="00000645.htm#137977"><code>StructKeyExists</code></a> function.</p>
<p>For example, if you submit a form with an unsettled check box, the action page does not get a variable for the check box. The following example from a form action page makes sure the Contractor check box Form variable exists before using it:</p>
<pre>&lt;cfif IsDefined(&quot;Form.Contractor&quot;)&gt;
   &lt;cfoutput&gt;Contractor: #Form.Contractor#&lt;/cfoutput&gt;
   &lt;/cfif&gt;
</pre><p>You must always enclose the argument passed to the <code>IsDefined</code> function in double-quotation marks. For more information on the <code>IsDefined</code> function, see <i>CFML Reference</i>.</p>
<p>If you attempt to evaluate a variable that you did not define, ColdFusion cannot process the page and displays an error message. To help diagnose such problems, turn on debugging in the ColdFusion&#160;MX Administrator or use the debugger in your editor. The Administrator debugging information shows which variables are being passed to your application pages.</p>
<h4><a name="wp1145531"></a>Variable existence considerations</h4>
<p>If a variable is part of a scope that is available as a structure, you might get a minor performance increase by testing the variable's existence using the <a href="00000645.htm#137977"><code>StructKeyExists</code></a> function instead of the <a href="00000520.htm#1106482"><code>IsDefined</code></a> function.</p>
<p>You can also determine which Form variables exist by inspecting the contents of the <code>Form.fieldnames</code> built-in variable. This variable contains a list of all the fields submitted by the form. Remember, however, that form text fields are always submitted to the action page, and might contain an empty string if the user did not enter data.</p>
<p>The <code>IsDefined</code> function always returns False if you specify an array or structure element using bracket notation. For example, <code>IsDefined(&quot;myArray[3]&quot;)</code> always returns False, even if the array element <code>myArray[3]</code> has a value. To check for the existence of an array element, use <code>cftry</code>, as in the following example:</p>
<pre>&lt;cfset items=ArrayNew(2)&gt;
&lt;cfset items[1][1] = &quot;Dog&quot;&gt;
&lt;cfset items[2][2] = &quot;Cat&quot;&gt;
&lt;cftry&gt;
&#160;&#160;&lt;cfset temp=items[1][2]&gt;
&lt;cfcatch type=&quot;any&quot;&gt;
&lt;&#160;&#160;cfoutput&gt;Items[1][2] does not exist&lt;/cfoutput&gt;
&lt;/cfcatch&gt;
&lt;/cftry&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000915.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000917.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000916.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



