<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Converting CFML data to a JavaScript object</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001526.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001528.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Converting CFML data to a JavaScript object</h1>
<p>The following example demonstrates the transfer of a <a href="00000316.htm#1102316"><code>cfquery</code></a> recordset from a ColdFusion page executing on the server to a JavaScript object that is processed by the browser.</p>
<p>The application consists of four principal sections:</p>
<ul>
<li>
   Running a data query
</li>
<li>
   Including the WDDX JavaScript utility classes
</li>
<li>
   Calling the conversion function
</li>
<li>
   Writing the object data in HTML
</li>
</ul>
<p>The following example uses the cfdocexamples data source that is installed with ColdFusion:</p>
<pre>&lt;!--- Create a simple query ---&gt;
&lt;cfquery name = &quot;q&quot; datasource =&quot;cfdocexamples&quot;&gt;
   SELECT Message_Id, Thread_id, Username, Posted 
   FROM messages
&lt;/cfquery&gt;

&lt;!--- Load the wddx.js file, which includes the dump function ---&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;/CFIDE/scripts/wddx.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
   // Use WDDX to move from CFML data to JavaScript
   &lt;cfwddx action=&quot;cfml2js&quot; input=&quot;#q#&quot; topLevelVariable=&quot;qj&quot;&gt;
   
   // Dump the recordset to show that all the data has reached 
   // the client successfully.
   document.write(qj.dump(true));
&lt;/script&gt;
</pre><p><strong>Note: </strong>To see how <a href="00000351.htm#2682044"><code>cfwddx</code></a> <code>Action=&quot;cfml2js&quot;</code> works, save this code under your webroot directory, for example in wwwroot/myapps/wddxjavascript.cfm, run the page in your browser and select View Source in your browser.</p>

<hr />
<p align="right"><p align="right"><a href="00001526.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001528.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001527.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



