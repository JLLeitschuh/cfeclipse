<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Processing options</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001786.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001788.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Processing options</h1>
<p>The following sections describe the Verity Spider processing options.</p>
<h3><a name="wp1024816"></a>-abspath</h3>
<p><strong>Type</strong>: File system only</p>
<p>Generates absolute paths for files. Use this option when the document locations are not going to change, but the collection might be moved around. </p>
<p>When you index a web server&#39;s contents through the file system, use the <code>-prefixmap</code> option with the <code>-abspath</code> option to map the absolute file paths to URLs.</p>
<p>See also <a href="00001787.htm#999856">-prefixmap</a>.</p>
<h3><a name="wp999808"></a>-detectdupfile</h3>
<p><strong>Type</strong>: File system only</p>
<p>Enables checksum-based detection of duplicates when indexing file systems.</p>
<p>By default, a document checksum is not computed on indexed files. By using the <br /><code>-detectdupfile</code> option, a checksum is computed based on the CRC-32 algorithm. The checksum combined with the document size is used to determine if the document is a duplicate.</p>
<h3><a name="wp999812"></a>-indexers</h3>
<p><strong>Syntax</strong>: <code>-indexers num_indexers</code></p>
<p>Specifies the maximum number of indexing threads to run on a collection. </p>
<p>The default value is 2. Increasing the value for the <code>-indexers</code> option requires additional CPU and memory resources.</p>
<p>See also <a href="00001787.htm#1002068">-maxindmem</a>. </p>
<h3><a name="wp999816"></a>-license</h3>
<p><strong>Syntax</strong>: <code>-license path_and_filename</code></p>
<p>Specifies the license file to use. </p>
<p>By default, the ind.lic file is used, from the <i>verity_root</i>/<i>platform</i>/bin directory.; where <i>platform</i> represents the platform directory. </p>
<h3><a name="wp1002068"></a>-maxindmem</h3>
<p><strong>Syntax</strong>: <code>-maxindmem kilobytes</code></p>
<p>Specifies the maximum amount of memory, in kilobytes, used by each indexing thread. Specify the number of threads with the <code>-indexers</code> option.</p>
<p>By default, each indexing thread uses as much memory as is available from the system.</p>
<h3><a name="wp999824"></a>-maxnumdoc</h3>
<p><strong>Syntax</strong>: <code>-maxnumdoc num_docs</code></p>
<p>Specifies the maximum number of documents to download or submit for indexing. The value for num_docs does not necessarily correspond to the number of documents indexed. The following factors affect the actual number:</p>
<ul>
<li>
   Whether the value of <code>num_docs</code> falls within a block of documents dictated by the <br /><code>-submitsize</code> option. If it does, the entire block of documents must be processed. 
</li>
<li>
   Whether documents retrieved are actually indexed, because they are invalid or corrupt. 
</li>
</ul>
<h3><a name="wp999828"></a>-mimemap</h3>
<p><strong>Syntax</strong>: <code>-mimemap path_and_filename</code></p>
<p>Specifies a control file (simple ASCII text) that maps file extensions to MIME-types. This lets you make custom associations and override defaults.</p>
<p>The following is the format for the control file:</p>
<pre>#file_ext_no_dot                                 mime-type
abc                                  application/word
</pre><h3><a name="wp999832"></a>-nocache</h3>
<p><strong>Type</strong>: Web crawling only</p>
<p>Used with the <code>-noindex</code> or <code>-nosubmit</code> options, this option disables the caching of files during website indexing. This has the effect of decreasing the demands on your disk space.</p>
<p>Normally, Verity Spider downloads URLs, then writes them to a bulk insert file and downloads the documents themselves. When indexing occurs, once the <code>-submitsize</code> option has been reached, the cached files are indexed and then deleted. If you use the <code>-noindex</code> option, the bulk insert file is submitted but not processed by Verity Spider, and so the documents are not deleted until indexing occurs. This will usually be <code>mkvdk</code> or <code>collsvc</code>, or you can use Verity Spider again with the <code>-processbif</code> option.</p>
<p>By using the <code>-nocache</code> option in conjunction with the <code>-noindex</code> or <code>-nosubmit</code> option, you avoid storing files locally. Files are downloaded only when indexing actually occurs.</p>
<p>See also <a href="00001787.htm#999840">-noindex</a>. </p>
<h3><a name="wp999836"></a>-nodupdetect</h3>
<p><strong>Type</strong>: Web crawling only</p>
<p>Disables checksum-based detection of duplicates when indexing websites. URL-based duplicate detection is still performed.</p>
<p>By default, a document checksum is computed based on the CRC-32 algorithm. The checksum combined with the document size is used to determine if the document is a duplicate.</p>
<p>See also <a href="00001790.htm#1024888">-followdup</a>. </p>
<h3><a name="wp999840"></a>-noindex</h3>
<p>Specifies that Verity Spider gathers document locations without indexing them. The document locations are stored in a bulk insert file (BIF), which is then submitted to the collection. This option is typically used in conjunction with a separate indexing process, such as <code>mkvdk</code> or collection servicers (<code>collsvc</code>). The BIF will be processed by the next indexing process run for the collection, whether it is Verity Spider, mkvdk, or collection servicers (<code>collsvc</code>).</p>
<p>Do not try to start Verity Spider and another process at the same time. You must allow Verity Spider time to generate enough work for the secondary indexing process. If you are using <code>mkvdk</code>, you can run it in persistent mode to ensure it will act upon work generated by Verity Spider.</p>
<p><strong>Note: </strong>When you execute an indexing job for a collection and you use the <code>-noindex</code> option, the persistent store for the collection is not updated. </p><p>See also <a href="00001787.htm#999832">-nocache</a> and <a href="00001787.htm#999844">-nosubmit</a>. </p>
<p>For more information on the mkvdk utility, see <a href="00001800.htm#1000347">Using the mkvdk utility</a>. </p>
<h3><a name="wp999844"></a>-nosubmit</h3>
<p>Specifies that Verity Spider gathers document locations without submitting them. The document locations are stored in a bulk insert file (BIF), which is not submitted to the collection. This option is typically used in conjunction with a separate indexing process, such as <code>mkvdk</code> or collection servicers (<code>collsvc</code>). You can also use Verity Spider again with the <code>-processbif</code> option. With an indexing process other than Verity Spider, you must specify the name and path for the BIF, because the collection has no record of it.</p>
<h3><a name="wp999848"></a>-persist</h3>
<p><strong>Syntax</strong>: <code>-persist num_seconds</code></p>
<p>Enables the Verity Spider to run in persistent mode, checking for updates every num_seconds seconds until it is stopped.</p>
<p>While Verity Spider is running in persistent mode, there is no optimization. After Verity Spider is taken out of persistent mode, you need to perform optimization on the collection. For more information about using the mkvdk utility, see <a href="00001800.htm#1000347">Using the mkvdk utility</a>. </p>
<p><strong>Note: </strong>Do not run more than one Verity Spider process in persistent mode. As the Verity Spider is a resource-intensive process, only run it in persistent mode with an interval of less than one day. For time intervals greater than twelve hours, use some form of scheduling. Some examples are cron jobs for UNIX, and the AT command for Windows server.</p><h3><a name="wp1010227"></a>-preferred</h3>
<p><strong>Type</strong>: Web crawling only</p>
<p><strong>Syntax</strong>: <code>-preferred exp_1 [exp_n] ...</code></p>
<p>Specifies a list of hosts or domains that are preferred when retrieving documents for viewing. You can use wildcard expressions, where the asterisk (*) is for text strings and the question mark (?) is for single characters. To use regular expressions, also specify the <code>-regexp</code> option. Use this option when you leave duplicate detection enabled and do not specify the <code>-nodupdetect</code> option.</p>
<p>When indexing, you might encounter a nonpreferred host first. In that case, documents are parsed and followed and stored as candidates. When duplicates are encountered on another server, which is preferred, the duplicate documents from the nonpreferred server are skipped. When documents are requested for viewing, they will be retrieved from the preferred server.</p>
<p>In Windows, include double-quotation marks around the argument to protect the special characters, such as the asterisk (*). On UNIX, use single-quotation marks. This is only required when you run the indexing job from a command line. Quotation marks are not necessary within a command file (the <code>-cmdfile</code> option).</p>
<p>See also <a href="00001787.htm#999864">-regexp</a>.</p>
<h3><a name="wp999856"></a>-prefixmap</h3>
<p><strong>Type</strong>: File system only</p>
<p><strong>Syntax</strong>: <code>-prefixmap path_and_filename</code></p>
<p>Specifies a control file (simple ASCII text) that maps file system paths to web aliases.</p>
<p>In conjunction with the <code>-abspath</code> option, this option is typically used to create a URL field that is the web equivalent of a file system path. File system indexing is faster than web crawling over the network. If you use the <code>-prefixmap</code> option to replace the file system path with the web URL, relative hyperlinks in the HTML pages are kept intact when returned in Verity search results.</p>
<p>The following is the format for the control file:</p>
<pre>src_field src_prefix dest_field dest_prefix
</pre><p>If you use backslashes, you must double them so that they are properly escaped; for example:</p>
<pre>C:\\test\\docs\\path
</pre><p>For example, to map the filepath <code>/usr/pub/docs</code> to <code>http://web/~verity</code>, use the following:</p>
<pre>vdkvgwkey /usr/pub URL http://web/~verity
</pre><p>See also <a href="00001787.htm#1024816">-abspath</a>. </p>
<h3><a name="wp999860"></a>-processbif</h3>
<p><strong>Syntax</strong>: <code>-processbif &#39;command_string !*&#39;</code></p>
<p>Specifies a command string in which you can call a program or script that operates on BIFs generated by Verity Spider.</p>
<p>Due to the use of special characters, which represent the bulk insert file (BIF), you must run Verity Spider with a command file using the <code>-cmdfile</code> option.</p>
<p>For example, if you want to use a script called fix_bif to add customized information to BIF files, use the following command:</p>
<pre>vspider -cmdfile filename
</pre><p>Where <code>filename</code> is the text-only command file that contains the following (along with any other necessary options):</p>
<pre>-processbif &#39;fix_bif !*&#39;
</pre><p>Your command file will include other options as well.</p>
<h3><a name="wp999864"></a>-regexp</h3>
<p>Specifies the use of regular expressions rather than the default wildcard expressions for the following options: <code>-exclude</code>, <code>-indexclude</code>, <code>-include</code>, <code>-indinclude</code>, <code>-skip</code>, <code>-indskip</code>, <code>-preferred</code>, and <code>-nofollow</code>.</p>
<p>Wildcard expressions allow the use of the asterisk (*) for text strings, and the question mark (?) for single characters, as the following table shows:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Wildcard expression
    </th>
    <th>
Text string
    </th>
  </tr>
  <tr>
    <td>
<p>a*t </p>
    </td>
    <td>
<p>although, attitude, audit </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>a?t </p>
    </td>
    <td>
<p>ant, art</p>
    </td>
  </tr>
  <tr>
    <td>
<p>file?.htm </p>
    </td>
    <td>
<p>files.htm, file1.htm, filer.htm </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>name?.* </p>
    </td>
    <td>
<p>names.txt, named.blank, names.ext </p>
    </td>
  </tr>
</table>

<p>Regular expressions allow for more powerful and flexible matching of alphanumeric strings; for example, to match &quot;ab11&quot; or &quot;ab34&quot; but not &quot;abcd&quot; or &quot;ab11cd,&quot; you could use the following regular expression:</p>
<pre>^ab[0-9][0-9]$
</pre><p>The full extent to which regular expressions can be employed is beyond the scope of this description. For more information on regular expressions, refer to a book devoted to the subject.</p>
<h3><a name="wp1003448"></a>-submitsize</h3>
<p><strong>Syntax</strong>: <code>-submitsize num_documents</code></p>
<p>Specifies the number of documents submitted for indexing at one time. The default value is 128. The upper limit is 64,000.</p>
<p><strong>Note: </strong>Although larger values mean more efficient processing by the indexer, smaller values allow more parallelism on multi-CPU systems. In the event of a halt during indexing, a smaller value means fewer documents will be lost.</p><p>If a halt occurs during indexing, the chunk of documents specified by the <code>-submitsize</code> option is lost because there is no transactional rollback for indexing and the documents are no longer in the queue for indexing. When you rerun the indexing task, Verity Spider can only continue with URLs and documents that are enqueued.</p>
<h3><a name="wp999872"></a>-temp</h3>
<p><strong>Syntax</strong>: <code>-temp path</code></p>
<p>Specifies the directory for temporary files (disk cache). By default, the temp directory is under the job directory (optionally specified with the <code>-jobpath</code> option). </p>
<p>If you do not specify a value for this option, Verity Spider creates a /spider/temp directory within the collection. For multiple-collection tasks, the first collection specified is used.</p>
<p><strong>Note: </strong>Make sure the location you specify contains enough disk space to handle the documents that are downloaded and held before indexing. The documents are deleted from the hard disk after they are indexed.</p><p>See also <a href="00001786.htm#1029937">-jobpath</a>, for specifying the location of all indexing job directories and files, one of which is the temp directory.</p>


<hr />
<p align="right"><p align="right"><a href="00001786.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001788.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001787.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



