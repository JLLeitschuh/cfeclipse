<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>The Variables scope</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001054.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001056.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>The Variables scope</h1>
<p>The Variables scope in a CFC is private to the CFC. It includes variables defined in the CFC body (initialization or constructor code) and in the CFC methods. When you set Variables scope variables in the CFC, they cannot be seen by pages that invoke the CFC. </p>
<p>The CFC Variables scope does not include any of the Variables scope variables that are declared or available in the page that instantiates or invokes the CFC. However, you can make the Variables scope of the page that invokes a CFC accessible to the CFC by passing Variables as an argument to the CFC method.</p>
<p>You set a Variables scope variable by assigning a value to a name that has the Variables prefix or no prefix.</p>
<p>Values in the Variables scope last as long as the CFC instance exists, and therefore can last between calls to CFC instance methods.</p>
<p>The Variables scope is available to included pages, and Variables scope variables that are declared in the included page are available in the component page.</p>
<p><strong>Note: </strong>The Variables scope is not the same as the var keyword, which makes variables private within a function. You should always define function-local variables using the var keyword.</p><h4><a name="wp1214994"></a>Example: sharing the Variables scope</h4>
<p>The following example shows how to make the Variables scope of the page that invokes a CFC accessible to the CFC by passing Variables as an argument to the CFC method. It also illustrates that the Variables scope is private to the CFC.</p>
<p>The following code is for the callGreetMe.cfm page:</p>
<pre>&lt;cfset Variables.MyName=&quot;Wilson&quot;&gt;
&lt;cfobject component=&quot;greetMe&quot; name=&quot;myGreetings&quot;&gt;
&lt;cfoutput&gt;
   Before invoking the CFC, Variables.Myname is: #Variables.MyName#.&lt;br&gt;
   Passing Variables scope to hello method. It returns: #myGreetings.hello(Variables.MyName)#.&lt;br&gt;
    After invoking the CFC, Variables.Myname is: #Variables.MyName#.&lt;br&gt;
&lt;/cfoutput&gt;
&lt;cfinvoke component=&quot;greetMe&quot; method=&quot;VarScopeInCfc&quot;&gt;
</pre><p>The following code is for the greetMe CFC:</p>
<pre>&lt;cfcomponent&gt;
&lt;cfset Variables.MyName=&quot;Tuckerman&quot;&gt;
   &lt;cffunction name=&quot;hello&quot;&gt;
      &lt;cfargument name=&quot;Name&quot; Required=true&gt;
      &lt;cfset Variables.MyName=&quot;Hello &quot; &amp; Arguments.Name&gt;
      &lt;cfreturn Variables.MyName&gt;
   &lt;/cffunction&gt;
   &lt;cffunction name=&quot;VarScopeInCfc&quot;&gt;
      &lt;cfoutput&gt;Within the VarScopeInCfc method, Variables.MyName is: #variables.MyName#&lt;br&gt;&lt;/cfoutput&gt;
   &lt;/cffunction&gt;
&lt;/cfcomponent&gt;
</pre><p>In this example, the callGreetMe.cfm page does the following:</p>
<ol>
<li>
   Sets the MyName variable in its Variables scope to <i>Wilson</i>.
</li>
<li>
   Displays the <i>Variables.MyName</i> value.
</li>
<li>
   Calls the greetMe CFC and passes its Variables scope as a parameter.
</li>
<li>
   Displays the value returned by the greetMe CFC.
</li>
<li>
   Displays the <i>Variables.MyName</i> value.
</li>
<li>
   Invokes the VarScopeInCfc method, which displays the value of <i>Variables.MyName</i> within the CFC.
</li>
</ol>
<p>When you browse the callGreetMe.cfm page, the following appears:</p>
<pre>Before invoking the CFC, Variables.Myname is: Wilson.
Passing Variables scope to hello method. It returns: Hello Wilson.
After invoking the CFC, Variables.Myname is: Wilson.
Within the VarScopeInCfc method, Variables.MyName is: Tuckerman
</pre>

<hr />
<p align="right"><p align="right"><a href="00001054.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001056.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001055.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



