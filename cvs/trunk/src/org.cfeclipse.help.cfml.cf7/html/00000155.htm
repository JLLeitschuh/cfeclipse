<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Exercise 1: Using an HTML form to collect data</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000154.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000156.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Exercise 1: Using an HTML form to collect data</h1>
<p>In this exercise, you develop the Trip Edit page, which provides a data entry form that is used to add new trips and edit existing trips. You validate the data entered against Compass Travel business rules. The fields required to capture trip information are the same as those on the Trip Detail page that you used to display trip information in <a href="00000148.htm#1181359">Lesson 6: Creating a Main Application Page</a>. The following figure shows the Trip Edit page:</p>
<p><br />
<img src="images/trip_edi.jpg" alt="Image shows picture Trip edit data collection page." border="0" hspace="0" vspace="0"/>
<br />
</p>
<p>The page appears when the user clicks the Add or Edit button on the main Trip Maintenance application page (tripdetail.cfm).</p>
<h4>To create the Trip Edit data collection form:</h4>
<ol>
<li>
   Create a blank file.
</li>
<li>
   Enter or copy and paste the following code into the file:
<pre>
&lt;html&gt;
&lt;head&gt;&lt;title&gt;Compass Travel Trip Maintenance&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
	&lt;form action=&quot;tripeditaction.cfm&quot; method=&quot;post&quot;&gt;
		&lt;!--- Field: Trip Maintenance Image ---&gt;
	&lt;IMG src=&quot;images/tripmaintenance.gif&quot;&gt;
	&lt;P&gt;
	&lt;table&gt;
	    &lt;!--- Field: tripName ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt; Trip Name &lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT type=&quot;text&quot; name=tripName size=&quot;50&quot;&gt;&lt;/TD&gt;
		&lt;/TR&gt;
			&lt;!--- Field: eventType ---&gt;
		&lt;tr&gt;
			&lt;td valign=&quot;top&quot;&gt;Type of Event&lt;/td&gt;
			&lt;td&gt;&lt;select size=&quot;1&quot; name=&quot;eventType&quot;&gt;
				&lt;option value=&quot;1&quot; selected&gt;Surfing&lt;/option&gt;
				&lt;option value=&quot;2&quot;&gt;Mountain Climbing&lt;/option&gt;
				&lt;option value=&quot;3&quot;&gt;Mountain Biking&lt;/option&gt;
				&lt;/select&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
	    &lt;!--- Field: tripDescription ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt; Trip Description &lt;/TD&gt;
		    &lt;TD&gt;
				&lt;textarea cols=&quot;50&quot; rows=&quot;5&quot; name=&quot;tripDescription&quot;&gt;&lt;/textarea&gt;
			&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: tripLocation ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt;Trip Location&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT name=tripLocation size=50&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: departureDate ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt; Departure Date&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT name=departureDate size=10&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: returnDate ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt; Return Date&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT name=returnDate size=10&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: numberPeople ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt;Number of People&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT size=6 name=numberPeople&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: Price ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt;Price&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT size=10 name=price&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: baseCost ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt; Base Cost &lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT size=10 name=baseCost&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: depositRequired ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt; Deposit Required &lt;/TD&gt;
		    &lt;TD&gt;&lt;input type=&quot;checkbox&quot; name=&quot;depositRequired&quot; value=&quot;Yes&quot;&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: tripLeader ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt;Trip Leader&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT maxLength=50 size=50 name=tripLeader&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	    &lt;!--- Field: photo ---&gt;
	    &lt;TR&gt;
		    &lt;TD valign=&quot;top&quot;&gt;Photo File Name&lt;/TD&gt;
		    &lt;TD&gt;&lt;INPUT maxLength=50 size=50 name=photo&gt;&lt;/TD&gt;
		&lt;/TR&gt;
	&lt;/table&gt;
	&lt;p&gt;	
	&lt;input type=&quot;submit&quot; value=&quot;Save&quot;&gt;
	&lt;input type=&quot;submit&quot; value=&quot;Cancel&quot; name=&quot;btnCancel&quot;&gt;
	&lt;/p&gt;
	&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</li>
<li>
   Save the file as tripedit.cfm in the my_app directory.
</li>
</ol>
<h4><a name="wp1188206"></a>Reviewing the code</h4>
<p>The following table explains the use of some of the HTML tags in the Trip Edit page. For more information on HTML, consult any HTML primer.</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Tag
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>Form </p>
    </td>
    <td>
<p>You create a data entry form by using the <code>form</code> tag. The <code>form</code> tag takes two tag attributes; for example:</p>
<pre>&lt;form action=&quot;tripeditaction.cfm&quot; Method= &quot;Post&quot;&gt;
</pre><p>Here, the <code>action</code> attribute specifies the name of the ColdFusion file that the web server will navigate to in response to the form's submission. The <code>method</code> attribute specifies how data is returned to the web server. Submit all ColdFusion forms using the <code>Post method</code> attribute.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Table </p>
    </td>
    <td>
<p>You can format a data entry form and display its controls neatly, by using the table tag, <code>table;</code> table row tag, <code>tr;</code> and the table data tag, <code>td</code>.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Form Controls</p>
    </td>
    <td>
<p>The form requires controls to collect and submit user input. There are a variety of types of form controls that you can use. For this lesson, you will use the following controls:</p>
<ul>
<li>
   <code>&lt;input&gt;</code>&#160;Accepts text answers, such as Trip Name and Trip Price.
</li>
<li>
   <code>&lt;input type=checkbox&gt;</code>&#160;Asks yes or no questions, such as Deposit Required?
</li>
<li>
   <code>&lt;select&gt;,&lt;option&gt;</code>&#160;Provides user with a list of possible answers, such as the event type (Mountain Biking, Surfing, and so on).
</li>
<li>
   <code>&lt;textarea&gt;</code>&#160;Gathers user input on multiple lines, such as for the Trip Description. 
</li>
<li>
   <code>&lt;input type=submit&gt;</code>&#160;Posts the information collected to the server.
</li>
</ul>
    </td>
  </tr>
</table>

<h4>To test the Trip Edit page:</h4>
<ol>
<li>
   View the tripedit.cfm page in a browser.
</li>
<li>
   Enter a trip name in the Trip Name field.
</li>
<li>
   Click Save. 
<p>An error occurs.</p>
</li>
</ol>
<p>If you view the form source (tripedit.cfm) in an editor, you can see that the <code>&lt;form&gt;</code> tag has an <code>action</code> attribute. This attribute indicates the page that receives the form values posted by the tripedit.cfm page. Because you have not yet created the tripeditaction.cfm page, ColdFusion&#160;MX sends an error.</p>
<p>At this point, this form does not store any information in the database and does not enforce any business rules of Compass Travel. In the next exercise, you develop the action page to enforce the business rules. </p>


<hr />
<p align="right"><p align="right"><a href="00000154.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000156.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000155.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



