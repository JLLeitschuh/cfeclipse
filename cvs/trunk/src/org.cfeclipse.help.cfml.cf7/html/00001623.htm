<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using cfdirectory</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001622.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001624.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using cfdirectory</h1>
<p>Use the <a href="00000235.htm#1097918"><code>cfdirectory</code></a> tag to return file information from a specified directory and to create, delete, and rename directories. When listing directory contents or deleting a directory, you can optionally use the <code>recurse</code> attribute to access or delete all subdirectories.</p>
<p>As with <a href="00000245.htm#1098395"><code>cffile</code></a>, you can disable <code>cfdirectory</code> processing in the ColdFusion&#160;MX Administrator. For details on the syntax of this tag, see <i>CFML Reference</i>. </p>
<h2><a name="wp1106015"></a>Returning file information</h2>
<p>When you use the <code>action=&quot;list&quot;</code> attribute setting, <a href="00000235.htm#1097918"><code>cfdirectory</code></a> returns a query object as specified in the <code>name</code> attribute. The <code>name</code> attribute is required when you use the <code>action=&quot;list&quot;</code> attribute setting. This query object contains result columns that you can reference in a <a href="00000309.htm#1101659"><code>cfoutput</code></a> tag, using the value specified in the <code>name</code> attribute:</p>
<p><strong>name</strong>&#160;Directory entry name.</p>
<p><strong>directory</strong>&#160;Directory containing the entry.</p>
<p><strong>size</strong>&#160;Directory entry size.</p>
<p><strong>type</strong>&#160;File type: File or Dir.</p>
<p><strong>dateLastModified</strong>&#160;Date an entry was last modified.</p>
<p><strong>attributes</strong>&#160;(Windows only) File attributes, if applicable.</p>
<p><strong>mode</strong>&#160;(UNIX only) The octal value representing the permissions setting for the specified directory.</p>
<p><strong>Note: </strong>ColdFusion supports the ReadOnly and Hidden values for the <code>attributes</code> attribute for <code>cfdirectory</code> sorting.</p><p>Depending on whether your server is on a UNIX system or a Windows system, either the Attributes column or the Mode column is empty. Also, you can specify a filename in the <code>filter</code> attribute to get information on a single file.</p>
<p>The following procedure describes how to create a ColdFusion page in which to view directory information.</p>
<h4>To view directory information:</h4>
<ol>
<li>
   Create a ColdFusion page with the following content:
<pre>
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;List Directory Information&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h3&gt;List Directory Information&lt;/h3&gt;
&lt;cfdirectory
	directory=&quot;c:\inetpub\wwwroot\mine&quot;
	name=&quot;mydirectory&quot;
	sort=&quot;size ASC, name DESC, datelastmodified&quot;&gt;

&lt;table cellspacing=1 cellpadding=10&gt;
&lt;tr&gt;
	&lt;th&gt;Name&lt;/th&gt;
	&lt;th&gt;Size&lt;/th&gt;
	&lt;th&gt;Type&lt;/th&gt;
	&lt;th&gt;Modified&lt;/th&gt;
	&lt;th&gt;Attributes&lt;/th&gt;
	&lt;th&gt;Mode&lt;/th&gt;
&lt;/tr&gt;
&lt;cfoutput query=&quot;mydirectory&quot;&gt;
&lt;tr&gt;
	&lt;td&gt;#mydirectory.name#&lt;/td&gt;
	&lt;td&gt;#mydirectory.size#&lt;/td&gt;
	&lt;td&gt;#mydirectory.type#&lt;/td&gt;
	&lt;td&gt;#mydirectory.dateLastModified#&lt;/td&gt;
	&lt;td&gt;#mydirectory.attributes#&lt;/td&gt;
	&lt;td&gt;#mydirectory.mode#&lt;/td&gt;
&lt;/tr&gt;
&lt;/cfoutput&gt;
&lt;/table&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
</li>
<li>
   Modify the path C:\inetpub\wwwroot\mine so that it points to a directory on your server.
</li>
<li>
   Save the file as directoryinfo.cfm in the myapps directory under your <i>web_root</i> and view it in the browser:
<p><br />
<img src="images/cfdir_f2.jpg" alt="Results of viewing directoryinfo.cfm in a browser." border="0" hspace="0" vspace="0"/>
<br />
</p>
</li>
</ol>


<hr />
<p align="right"><p align="right"><a href="00001622.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001624.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001623.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



