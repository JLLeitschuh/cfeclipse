<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>How user edits are returned</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001367.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001369.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>How user edits are returned</h1>
<p>When a user inserts or deletes a row in a grid or changes any cells in a row and submits the grid, ColdFusion creates the following arrays as Form variables:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Array name
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>gridname.colname</p>
    </td>
    <td>
<p>Stores the new values of inserted, deleted, or updated cells. (Entries for deleted cells contain empty strings.)</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>gridname.Original.colname </p>
    </td>
    <td>
<p>Stores the original values of inserted, deleted, or updated cells.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>gridname.RowStatus.Action</p>
    </td>
    <td>
<p>Stores the type of change made to the grid rows: D for delete, I for insert, or U for update. </p>
    </td>
  </tr>
</table>

<p><strong>Note: </strong>The periods in these names are <strong>not</strong> structure separators; they are part of the text of the array name.</p><p>ColdFusion creates a <i>gridname.colname</i> array and a <i>gridname.Original.colname </i>array for each column in the grid. For each inserted, deleted, or changed row in the grid, ColdFusion creates a row in each of these arrays. </p>
<p>For example, the following arrays are created if you update a <a href="00000266.htm#1836171"><code>cfgrid</code></a> tag called mygrid that consists of two displayable columns (col1, col2) and one hidden column (col3): </p>
<pre>Form.mygrid.col1
Form.mygrid.col2
Form.mygrid.col3
Form.mygrid.original.col1
Form.mygrid.original.col2
Form.mygrid.original.col3
Form.mygrid.RowStatus.Action
</pre><p>The value of the array index increments for each row that is added, deleted, or changed, and does not indicate a grid row number. All rows for a particular change have the same index in all arrays. Unchanged rows do not have entries in the arrays.</p>
<p>If the user makes a change to a single cell in col2, the following array elements contain the edit operation, the edited cell value, and the original cell value:</p>
<pre>Form.mygrid.RowStatus.Action[1]
Form.mygrid.col2[1]
Form.mygrid.original.col2[1]
</pre><p>If the user changes the values of the cells in col1 and col3 in one row and the cell in col2 in another row, the information about the original and changed values is in the following array entries:</p>
<pre>Form.mygrid.RowStatus.Action[1]
Form.mygrid.col1[1]
Form.mygrid.original.col1[1]
Form.mygrid.col3[1]
Form.mygrid.original.col3[1]
Form.mygrid.RowStatus.Action[2]
Form.mygrid.col2[2]
Form.mygrid.original.col2[2]
</pre><p>The remaining cells in the arrays (for example, Form.mygrid.col2[1] and Form.mygrid.original.col2[1]) have the original, unchanged values.</p>


<hr />
<p align="right"><p align="right"><a href="00001367.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001369.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001368.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



