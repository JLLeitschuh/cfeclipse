<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>cfchart</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000225.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000227.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>cfchart</h1>
<h4><a name="wp2619631"></a>Description</h4>
<p>Generates and displays a chart.</p>
<h4><a name="wp2835538"></a>Category</h4>
<p><a href="00000199.htm#2459638">Data output tags</a>, <a href="00000202.htm#2459750">Extensibility tags</a>; <a href="00001429.htm#1129833">Controlling chart appearance</a> in <a href="00001421.htm#1156498">Creating Charts and Graphs</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp2619639"></a>Syntax</h4>
<pre><code><strong>Syntax 1</strong></code>
&lt;!--- This syntax uses an XML file or string to specify the chart style. ---&gt;<br />&lt;cfchart<br />      style = &quot;XML string or filename&quot;&gt; <br />&lt;/cfchart&gt;
<code><strong>Syntax 2</strong></code>
&lt;!--- This syntax uses the attributes of the cfchart tag to specify the chart style. ---&gt;<br />&lt;cfchart <br />      backgroundColor = &quot;Hex value or Web color&quot; <br />      chartHeight = &quot;integer number of pixels&quot; <br />      chartWidth = &quot;integer number of pixels&quot; <br />      dataBackgroundColor = &quot;Hex value or Web color&quot; <br />      font = &quot;font name&quot; <br />      fontBold = &quot;yes&quot; or &quot;no&quot; <br />      fontItalic = &quot;yes&quot; or &quot;no&quot; <br />      fontSize = &quot;integer font size&quot; <br />      foregroundColor = &quot;Hex value or Web color&quot; <br />      format = &quot;flash&quot; or &quot;jpg&quot; or &quot;png&quot; <br />      gridlines = &quot;integer number of lines&quot; <br />      labelFormat = &quot;number, currency, percent, date&quot; <br />      markerSize = &quot;integer number of pixels&quot; <br />      name = &quot;String&quot;&gt;<br />      pieSliceStyle = &quot;solid, sliced&quot; <br />      scaleFrom = &quot;integer minimum value&quot; <br />      scaleTo = &quot;integer ma<code>x</code>imum value&quot; <br />      seriesPlacement = &quot;default, cluster, stacked, percent&quot; <br />      show3D = &quot;yes&quot; or &quot;no&quot; <br />      showBorder = &quot;yes&quot; or &quot;no&quot; <br />      showLegend = &quot;yes&quot; or &quot;no&quot; <br />      showMarkers = &quot;yes&quot; or &quot;no&quot; <br />      showXGridlines = &quot;yes&quot; or &quot;no&quot; <br />      showYGridlines = &quot;yes&quot; or &quot;no&quot; <br />      sortXAxis = &quot;yes&quot; or &quot;no&quot; <br />      tipBGColor = &quot;hex value or web color&quot; <br />      tipStyle = &quot;MouseDown, MouseOver, none&quot;<br />      title = &quot;title of chart&quot;<br />      url = &quot;onClick destination page&quot; <br />      xAxisTitle = &quot;title text&quot; <br />      xAxisType = &quot;scale or category&quot;<br />      xOffset = &quot;number between -1 and 1&quot; <br />      yAxisTitle = &quot;title text&quot; <br />      yAxisType = &quot;scale or category&quot;<br />      yOffset = &quot;number between -1 and 1&quot; <br />      &lt;/cfchart&gt;
</pre><h4><a name="wp3843955"></a>See also</h4>
<p><a href="00000227.htm#2748541">cfchartdata</a>, <a href="00000228.htm#2741830">cfchartseries</a></p>
<h4><a name="wp3843963"></a>History</h4>
<p>ColdFusion&#160;MX&#160;7:</p>
<ul>
<li>
   Added <code>style</code> and <code>title</code> attributes.
</li>
<li>
   Added support for eight-digit hexadecimal values to specify RGB color and transparency.
</li>
<li>
   Removed the <code>rotated</code> attribute.
</li>
<li>
   Renamed the column chart type to be horizontalbar chart type.
</li>
</ul>
<p>ColdFusion MX&#160;6.1: </p>
<ul>
<li>
   Added the <code>xAxisType</code> and <code>yAxisType</code> attributes.
</li>
<li>
   Changed interpolation behavior: the tag now interpolates data points on line charts with multiple series.
</li>
</ul>
<p>ColdFusion&#160;MX: Added this tag.</p>
<h4><a name="wp2619658"></a>Attributes</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Attribute
    </th>
    <th>
Req/Opt
    </th>
    <th>
Default
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p><code>backgroundColor</code></p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Color of the area between the data background and the chart border, around labels and around the legend. </p>
<p>Hexadecimal value or supported named color; see the name list in Usage. For a hexadecimal value, use the form <code>&quot;##xxxxxx&quot; </code>or <code>&quot;##xxxxxxxx&quot;</code>, where x = 0-9 or A-F; use two number signs or none.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p><code>chartHeight</code></p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>240</p>
    </td>
    <td>
<p>Chart height; integer number of pixels.</p>
    </td>
  </tr>
  <tr>
    <td>
<p><code>chartWidth</code></p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>320</p>
    </td>
    <td>
<p>Chart width; integer number of pixels.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>dataBackgroundColor</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>white</p>
    </td>
    <td>
<p>Color of area around chart data.</p>
<p>Hexadecimal value or supported named color; see the name list in Usage.</p>
<p>For a hexadecimal value, use the form <code>&quot;##xxxxxx&quot;</code> or <code>&quot;##xxxxxxxx&quot;</code>, where x = 0-9 or A-F; use two number signs or none. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>font</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>arial </p>
    </td>
    <td>
<p>Name of text font:</p>
<ul>
<li>
   arial
</li>
<li>
   times
</li>
<li>
   courier
</li>
<li>
   arialunicodeMS. This option is required, if you are using a double-byte character set on UNIX, or using a double-byte character set in Windows with a file type of Flash.
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>fontBold</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>no</p>
    </td>
    <td>
<p>Whether to make the text bold:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>fontItalic</p>
    </td>
    <td>
<p>Optional&#160;</p>
    </td>
    <td>
<p>no</p>
    </td>
    <td>
<p>Whether to make the text italicized:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>fontSize</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>11</p>
    </td>
    <td>
<p>Font size; integer.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>foregroundColor</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>black</p>
    </td>
    <td>
<p>Color of text, grid lines, and labels.</p>
<p>Hexadecimal value or supported named color; see name list in Usage.</p>
<p>For a hexadecimal value, use the form <code>&quot;##xxxxxx&quot;</code> or <code>&quot;##xxxxxxxx&quot;</code>, where x = 0-9 or A-F; use two number signs or none. </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>format</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>flash</p>
    </td>
    <td>
<p>File format in which to save the graph:</p>
<ul>
<li>
   flash
</li>
<li>
   jpg
</li>
<li>
   png
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>gridlines</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>10, including top and bottom</p>
    </td>
    <td>
<p>Number of grid lines to display on the value axis, including axis; positive integer.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>labelFormat</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>number</p>
    </td>
    <td>
<p>Format for y-axis labels:</p>
<ul>
<li>
   number
</li>
<li>
   currency
</li>
<li>
   percent
</li>
<li>
   date
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>markerSize</p>
    </td>
    <td>
<p>Optional&#160;</p>
    </td>
    <td>
<p>(Automatic)</p>
    </td>
    <td>
<p>Size of data point marker in pixels; integer.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>name</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Page variable name; string. Generates the the graph as binary data and assigns it to the specified variable. Suppresses chart display. You can use the <code>name</code> value in the <code>cffile</code> tag to write the chart to a file.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>pieSliceStyle</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>sliced</p>
    </td>
    <td>
<p>Applies to the <code>cfchartseries</code> <code>type</code> attribute value <code>pie</code>.</p>
<ul>
<li>
   solid: displays pie as if unsliced.
</li>
<li>
   sliced: displays pie as if sliced.
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>rotated</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>no</p>
    </td>
    <td>
<p>Whether to rotate the chart 90 degrees:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>scaleFrom</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Determined by data</p>
    </td>
    <td>
<p>Y-axis minimum value; integer.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>scaleTo</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Determined by data</p>
    </td>
    <td>
<p>Y-axis maximum value; integer.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>seriesPlacement</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>default </p>
    </td>
    <td>
<p>Relative positions of series in charts that have more than one data series. </p>
<ul>
<li>
   default: ColdFusion determines relative positions, based on graph types
</li>
<li>
   cluster
</li>
<li>
   stacked
</li>
<li>
   percent
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>show3D</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>yes</p>
    </td>
    <td>
<p>Whether to display the chart with three-dimensional appearance:</p>
<ul>
<li>
   yes
</li>
<li>
   no 
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>showBorder</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>no</p>
    </td>
    <td>
<p>Whether to display a border around the chart:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>showLegend</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>yes</p>
    </td>
    <td>
<p>Whether to display the legend if the chart contains more than one data series:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>showMarkers</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>yes </p>
    </td>
    <td>
<p>Whether to display markers at data points in line, curve, and scatter graphs:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>showXGridlines</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>no</p>
    </td>
    <td>
<p>Whether to display x-axis gridlines:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>showYGridlines</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>yes</p>
    </td>
    <td>
<p>Whether to display y-axis gridlines:</p>
<ul>
<li>
   yes
</li>
<li>
   no
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>sortXAxis</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>no</p>
    </td>
    <td>
<p>Whether to display column labels in alphabetic order along the x-axis:</p>
<ul>
<li>
   yes:
</li>
<li>
   no
</li>
</ul>
<p>Ignored if the <code>xAxisType</code> attribute is <code>scale</code>.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>style</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>XML file or string to use to specify the style of the chart.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>title</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Title of the chart.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>tipbgcolor</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>white</p>
    </td>
    <td>
<p>Background color of tips. Applies only to Flash format graph files. </p>
<p>Hexadecimal value or supported named color; see the name list in the Usage section.</p>
<p>For a hexadecimal value, use the form <code>&quot;##xxxxxx&quot;</code>, where x = 0-9 or A-F; use two number signs or none.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>tipStyle</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>mouseOver</p>
    </td>
    <td>
<p>Determines the action that opens a pop-up window to display information about the current chart element.</p>
<ul>
<li>
   mouseDown: display if the user positions the cursor at the element and clicks the mouse. Applies only to Flash format graph files. (For other formats, this option functions the same as <code>mouseOver</code>.)
</li>
<li>
   mouseOver: displays if the user positions the cursor at the element
</li>
<li>
   none: suppresses display
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>url</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>URL to open if the user clicks item in a data series; the <code>onClick</code> destination page.</p>
<p>You can specify variables within the URL string; ColdFusion passes current values of the variables.</p>
<ul>
<li>
   <code>$VALUE$</code>: the value of the selected row. If none, the value is an empty string.
</li>
<li>
   <code>$ITEMLABEL$</code>: the label of the selected item. If none, the value is an empty string.
</li>
<li>
   <code>$SERIESLABEL$</code>: the label of the selected series. If none, the value is an empty string. 
</li>
</ul>
<p>For example:</p>
<pre>&quot;somepage.cfm?item=$ITEMLABEL$&amp;series=$SERIESLABEL$&amp;value=$VALUE$
</pre><ul>
<li>
   &quot;javascript:...&quot;: executes a client-side script
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>xAxisTitle</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Title that appears on the x-axis; text.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>xAxisType</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>category</p>
    </td>
    <td>
<p>Whether the x-axis indicates data or is numeric:</p>
<ul>
<li>
   category: The axis indicates the data category. Data is sorted according to the <code>sortXAxis</code> attribute.
</li>
<li>
   scale: The axis is numeric. All <code>cfchartdata</code> <code>item</code> attribute values must be numeric. The x-axis is automatically sorted numerically.
</li>
</ul>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>xOffset</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>0.1</p>
    </td>
    <td>
<p>Number of units by which to display the chart as angled, horizontally. Applies if <code>show3D=&quot;yes&quot;</code>. The number can be between -1 and 1, where &quot;-1&quot; specifies 90 degrees left and &quot;1&quot; specifies 90 degrees right.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>yAxisTitle</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>&#160;</p>
    </td>
    <td>
<p>Title of the y-axis; text.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>yAxisType</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>category</p>
    </td>
    <td>
<p>Currently has no effect, as the y-axis is always used for data values. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>yOffset</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>0.1 </p>
    </td>
    <td>
<p>Number of units by which to display the chart as angled, vertically. Applies if <code>show3D=&quot;yes&quot;</code>. The number can be between -1 and 1, where &quot;-1&quot; specifies 90 degrees left and &quot;1&quot; specifies 90 degrees right.</p>
    </td>
  </tr>
</table>

<h4><a name="wp2994777"></a>Usage</h4>
<p>The <code>cfchart</code> tag defines a <i>container</i> in which a graph displays: its height, width, background color, labels, and so on. The <code>cfchartseries</code> tag defines the chart style in which data displays: bar, line, pie, and so on. The <code>cfchartdata</code> tag defines a data point.</p>
<p>Data is passed to the <code>cfchartseries</code> tag in the following ways:</p>
<ul>
<li>
   As a query 
</li>
<li>
   As data points, using the <code>cfchartdata</code> tag 
</li>
</ul>
<p>For the <code>font</code> attribute value <code>ArialUnicodeMS</code>, the following rules apply:</p>
<ul>
<li>
   In Windows, to permit Flash charts (<code>type = &quot;flash&quot;</code>) to render a double-byte character set, you must select this value.
</li>
<li>
   On UNIX, for all <code>type</code> values, to render a double-byte character set, you must select this value. 
</li>
<li>
   If this value is selected, the <code>fontBold</code> and <code>fontItalic</code> attributes have no effect.
</li>
</ul>
<p>The following table lists W3C HTML 4 named color value or hexadecimal values that the <code>color</code> attribute accepts:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Color name
    </th>
    <th>
RGB value 
    </th>
  </tr>
  <tr>
    <td>
<p>Aqua</p>
    </td>
    <td>
<p>##00FFFF</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Black </p>
    </td>
    <td>
<p>#000000</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Blue</p>
    </td>
    <td>
<p>##0000FF</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Fuchsia</p>
    </td>
    <td>
<p>##FF00FF</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Gray</p>
    </td>
    <td>
<p>##808080</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Green</p>
    </td>
    <td>
<p>##008000</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Lime</p>
    </td>
    <td>
<p>##00FF00</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Maroon</p>
    </td>
    <td>
<p>##800000</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Navy</p>
    </td>
    <td>
<p>##000080</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Olive </p>
    </td>
    <td>
<p>##808000</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Purple</p>
    </td>
    <td>
<p>##800080</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Red</p>
    </td>
    <td>
<p>##FF0000</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Silver</p>
    </td>
    <td>
<p>##C0C0C0</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Teal</p>
    </td>
    <td>
<p>##008080</p>
    </td>
  </tr>
  <tr>
    <td>
<p>White</p>
    </td>
    <td>
<p>##FFFFFF</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Yellow</p>
    </td>
    <td>
<p>##FFFF00</p>
    </td>
  </tr>
</table>

<p>For all other color values, you must enter the hexadecimal value. You can enter a six-digit value, which specifies the RGB value, or an eight-digit value, which specifies the RGB value and the transparency. The first two digits of an eight-digit hexadecimal value specify the degree of transparency, with FF indicating opaque and 00 indicating transparent. Values between 00 and FF are allowed.</p>
<p>For more color names that are supported by popular browsers, go to <a href="http://www.w3.org/TR/css3-color" target="mm_window">www.w3.org/TR/css3-color</a> </p>
<p>You can specify whether charts are cached in memory, the number of charts to cache, and the number of chart requests that ColdFusion can process concurrently. To set these options in the ColdFusion Administrator, select Server Settings &gt; Charting.</p>
<h4><a name="wp3831910"></a>Example</h4>
<pre>&lt;!---The following example analyzes the salary data in the cfdocexamples
database and generates a bar chart showing average salary by department. The
body of the cfchartseries tag includes one cfchartdata tag to include data that
is not available from the query. ---&gt;

&lt;!--- Get the raw data from the database. ---&gt;
&lt;cfquery name=&quot;GetSalaries&quot; datasource=&quot;cfdocexamples&quot;&gt;
SELECT Departmt.Dept_Name, 
Employee.Dept_ID, 
Employee.Salary
FROM Departmt, Employee
WHERE Departmt.Dept_ID = Employee.Dept_ID
&lt;/cfquery&gt;

&lt;!--- Use a query of queries to generate a new query with ---&gt;
&lt;!--- statistical data for each department. ---&gt;
&lt;!--- AVG and SUM calculate statistics. ---&gt;
&lt;!--- GROUP BY generates results for each department. ---&gt;
&lt;cfquery dbtype = &quot;query&quot; name = &quot;DataTable&quot;&gt;
SELECT 
Dept_Name,
AVG(Salary) AS avgSal,
SUM(Salary) AS sumSal
FROM GetSalaries
GROUP BY Dept_Name
&lt;/cfquery&gt;

&lt;!--- Reformat the generated numbers to show only thousands. ---&gt;
&lt;cfloop index = &quot;i&quot; from = &quot;1&quot; to = &quot;#DataTable.RecordCount#&quot;&gt;
&lt;cfset DataTable.sumSal[i] = Round(DataTable.sumSal[i]/1000)*1000&gt;
&lt;cfset DataTable.avgSal[i] = Round(DataTable.avgSal[i]/1000)*1000&gt;
&lt;/cfloop&gt;

&lt;h1&gt;Employee Salary Analysis&lt;/h1&gt; 
&lt;!--- Bar graph, from Query of Queries ---&gt;
&lt;<code><strong>cfchart</strong></code> format=&quot;flash&quot; 
xaxistitle=&quot;Department&quot; 
yaxistitle=&quot;Salary Average&quot;&gt; 

&lt;cfchartseries type=&quot;bar&quot; 
query=&quot;DataTable&quot; 
itemcolumn=&quot;Dept_Name&quot; 
valuecolumn=&quot;avgSal&quot;&gt;

&lt;cfchartdata item=&quot;Facilities&quot; value=&quot;35000&quot;&gt;

&lt;/cfchartseries&gt;
&lt;/cfchart&gt; 
</pre>

<hr />
<p align="right"><p align="right"><a href="00000225.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000227.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000226.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



