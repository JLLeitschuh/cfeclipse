<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>LSNumberFormat</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000576.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000578.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>LSNumberFormat</h1>
<h4><a name="wp133028"></a>Description</h4>
<p>Formats a number in a locale-specific format.</p>
<h4><a name="wp133030"></a>Returns</h4>
<p>A formatted number. </p>
<ul>
<li>
   If no mask is specified, it returns the number formatted as an integer 
</li>
<li>
   If no mask is specified, truncates the decimal part; for example, it truncates 34.57 to 35 
</li>
<li>
   If the specified mask cannot correctly mask a number, it returns the number unchanged
</li>
<li>
   If the parameter value is &quot;&quot; (an empty string), it returns 0.
</li>
</ul>
<h4><a name="wp133036"></a>Category</h4>
<p><a href="00000359.htm#1099219">Display and formatting functions</a>, <a href="00000363.htm#1099325">International functions</a></p>
<h4><a name="wp133044"></a>Function syntax</h4>
<pre><code><strong>LSNumberFormat</strong></code>(<i>number</i> [, <i>mask</i> ])
</pre><h4><a name="wp133046"></a>See also</h4>
<p><a href="00000486.htm#4552309"><code>GetLocale</code></a>, <a href="00000624.htm#136340"><code>SetLocale</code></a>; <a href="00001207.htm#1202017">Handling data in ColdFusion&#160;MX</a> in <a href="00001195.htm#1141005">Developing Globalized Applications</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp133054"></a>History</h4>
<p>ColdFusion&#160;MX: </p>
<ul>
<li>
   Changed behavior: if the specified mask format cannot correctly mask a number, this function returns the number unchanged. (In earlier releases, it truncated the number or threw an error.) (If no mask is specified, ColdFusion&#160;MX truncates the decimal part as ColdFusion 5 does. For example, it truncates 1234.567 to 1235.) 
</li>
<li>
   Changed formatting behavior: this function might return different formatting than in earlier releases. This function uses Java standard locale formatting rules on all platforms. 
</li>
</ul>
<h4><a name="wp133064"></a>Parameters</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Parameter
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>number</p>
    </td>
    <td>
<p>Number to format</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>mask</p>
    </td>
    <td>
<p><code>LSNumberFormat</code> mask characters apply, except: dollar sign, comma, and dot are mapped to their locale-specific equivalents.</p>
    </td>
  </tr>
</table>

<p>The following table lists the <code>LSNumberFormat</code> mask characters:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Character
    </th>
    <th>
Meaning
    </th>
  </tr>
  <tr>
    <td>
<p>_ </p>
    </td>
    <td>
<p>(Underscore.) Digit placeholder. </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>9</p>
    </td>
    <td>
<p> Digit placeholder. (Shows decimal places more clearly than _ .) </p>
    </td>
  </tr>
  <tr>
    <td>
<p>.</p>
    </td>
    <td>
<p>Location of a mandatory decimal point (or locale-appropriate symbol). </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>0</p>
    </td>
    <td>
<p>Located to the left or right of a mandatory decimal point. Pads with zeros. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>( )</p>
    </td>
    <td>
<p>If number is less than zero, puts parentheses around the mask.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>+</p>
    </td>
    <td>
<p>Puts plus sign before positive number; minus sign before negative number.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>-</p>
    </td>
    <td>
<p>Puts space before positive number; minus sign before negative number.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>,</p>
    </td>
    <td>
<p>Separates every third decimal place with a comma (or locale-appropriate symbol). </p>
    </td>
  </tr>
  <tr>
    <td>
<p>L,C</p>
    </td>
    <td>
<p>Left-justifies or center-justifies number within width of mask column. First character of mask must be L or C. The default value is right-justified. </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>$</p>
    </td>
    <td>
<p>Puts a dollar sign (or locale-appropriate symbol) before formatted number. First character of mask must be the dollar sign ($).</p>
    </td>
  </tr>
  <tr>
    <td>
<p>^</p>
    </td>
    <td>
<p>Separates left and right formatting.</p>
    </td>
  </tr>
</table>

<p><strong>Note: </strong>If you do not specify a sign for the mask, positive and negative numbers do not align in columns. To put a plus sign or space before positive numbers and a minus sign before negative numbers, use the plus or hyphen mask character, respectively.</p><h4><a name="wp133131"></a>Usage</h4>
<p>This function uses Java standard locale formatting rules on all platforms. </p>
<p>The position of symbols in format masks determines where the codes take effect. For example, if you put a dollar sign at the far left of a format mask, ColdFusion displays a dollar sign at the left edge of the formatted number. If you separate the dollar sign on the left edge of the format mask by at least one underscore, ColdFusion displays the dollar sign just to the left of the digits in the formatted number. </p>
<p>These examples show how symbols determine formats: </p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Number
    </th>
    <th>
Mask
    </th>
    <th>
Result
    </th>
  </tr>
  <tr>
    <td>
<p>4.37</p>
    </td>
    <td>
<p>$____.__</p>
    </td>
    <td>
<p>&quot;$  4.37&quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>4.37</p>
    </td>
    <td>
<p>_$___.__</p>
    </td>
    <td>
<p>&quot;  $4.37&quot;</p>
    </td>
  </tr>
</table>

<p>The positioning can also show where to put a minus sign for negative numbers:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Number
    </th>
    <th>
Mask
    </th>
    <th>
Result
    </th>
  </tr>
  <tr>
    <td>
<p>-4.37</p>
    </td>
    <td>
<p>-____.__</p>
    </td>
    <td>
<p>&quot;-  4.37&quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>-4.37</p>
    </td>
    <td>
<p>_-___.__</p>
    </td>
    <td>
<p>&quot;  -4.37&quot;</p>
    </td>
  </tr>
</table>

<p>The positions for a symbol are: far left, near left, near right, and far right. The left and right positions are determined by the side of the decimal point on which the code character is shown. For formats that do not have a fixed number of decimal places, you can use a caret (^) to separate the left fields from the right.</p>
<p>An underscore determines whether the code is placed in the far or near position. Most code characters' effect is determined by the field in which they are located. This example shows how to specify where to put parentheses to display negative numbers:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Number
    </th>
    <th>
Mask
    </th>
    <th>
Result
    </th>
  </tr>
  <tr>
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C(__^__)</p>
    </td>
    <td>
<p>&quot;( 3.21 )&quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C__(^__)</p>
    </td>
    <td>
<p>&quot; (3.21 )&quot;</p>
    </td>
  </tr>
  <tr>
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C(__^)__</p>
    </td>
    <td>
<p>&quot;( 3.21) &quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C__(^)__</p>
    </td>
    <td>
<p>&quot; (3.21) &quot;</p>
    </td>
  </tr>
</table>

<p>To set the default display format of date, time, number, and currency values, use the <a href="00000624.htm#136340"><code>SetLocale</code></a> function. </p>
<p>When converting from string to double, to prevent rounding errors, this function adds a rounding factor of 1.5543122344752E-014 to the converted number. For example, without adding the rounding factor, converting the string value 1.275 to double with two digits of precision results in a value of 1.27499999999999999, which would be rounded up to 1.27. By adding the rounding factor, the conversion correctly results in a value of 1.28. </p>
<p>If you round off a double, such as 1.99499999999999999999999999999, where the last decimal is 10E-14, the rounding factor can cause an incorrect result. </p>
<h4><a name="wp133216"></a>Example</h4>
<pre>&lt;h3&gt;LSNumberFormat Example&lt;/h3&gt;
&lt;p&gt;LSNumberFormat returns a number value using the locale convention. 
&lt;!--- loop through a list of locales and show number values ---&gt;
&lt;cfloop LIST = &quot;#Server.Coldfusion.SupportedLocales#&quot;
index = &quot;locale&quot; delimiters = &quot;,&quot;&gt;
   &lt;cfset oldlocale = SetLocale(locale)&gt;
   &lt;cfoutput&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;#locale#&lt;/i&gt;&lt;/b&gt;&lt;br&gt;
      #<strong>LSNumberFormat(-1234.5678, &quot;_________&quot;)</strong>#&lt;br&gt;
      #<strong>LSNumberFormat(-1234.5678, &quot;_________.___&quot;)</strong>#&lt;br&gt;
      #<strong>LSNumberFormat(1234.5678, &quot;_________&quot;)</strong>#&lt;br&gt;
      #<strong>LSNumberFormat(1234.5678, &quot;_________.___&quot;)</strong>#&lt;br&gt;      
      #<strong>LSNumberFormat(1234.5678, &quot;$_(_________.___)&quot;)</strong>#&lt;br&gt;      
      #<strong>LSNumberFormat(-1234.5678, &quot;$_(_________.___)&quot;)</strong>#&lt;br&gt;      
      #<strong>LSNumberFormat(1234.5678, &quot;+_________.___&quot;)</strong>#&lt;br&gt;      
      #<strong>LSNumberFormat(1234.5678, &quot;-_________.___&quot;)</strong>#&lt;br&gt;      
   &lt;/cfoutput&gt;
&lt;/cfloop&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000576.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000578.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000577.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



