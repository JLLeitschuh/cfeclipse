<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Configuring the Flash Remoting Gateway</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001478.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001480.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Configuring the Flash Remoting Gateway</h1>
<p>The following parameters in the ColdFusion web.xml file point the Flash Remoting gateway to the gateway-config.xml file. </p>
<pre>&lt;init-param&gt;
   &lt;param-name&gt;gateway.configuration.file&lt;/param-name&gt;
   &lt;param-value&gt;/WEB-INF/gateway-config.xml&lt;/param-value&gt;
      &lt;/init-param&gt;
&lt;init-param&gt;
   &lt;param-name&gt;whitelist.configuration.file&lt;/param-name&gt;
   &lt;param-value&gt;/WEB-INF/gateway-config.xml&lt;/param-value&gt;
&lt;/init-param&gt;
&lt;init-param&gt;
   &lt;param-name&gt;whitelist.parent.node&lt;/param-name&gt;
   &lt;param-value&gt;gateway-config&lt;/param-value&gt;
&lt;/init-param&gt;
</pre><p>Both the web.xml file and the gateway-config.xml file are located in the WEB-INF directory of your ColdFusion server. As a general rule, there is no need to change these web.xml settings. </p>
<p>ColdFusion&#160;MX&#160;7 configures Flash gateways differently from previous ColdFusion&#160;MX releases. Parameters that worked prior to this release are no longer supported, and you specify all configuration parameters in the gateway-config.xml file. Also, the Flash gateway now supports a whitelist, which specifies which remote sources can be accessed through the gateway. The two web.xml entries that identify the whitelist should specify your gateway-config.xml file and gateway-config as the parent node.</p>
<p>You can modify the gateway-config.xml file to configure service adapters, add service names to the whitelist, change the logging level, and specify how the gateway handles case sensitivity.</p>
<p>You can configure gateway features in the gateway-config.xml file as follows:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Feature
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>service adapters</p>
    </td>
    <td>
<p>By default, the PageableResultSetAdapter, the ColdFusionAdapter, the CFCAdapter (for ColdFusion components), and the CFSSASAdapter (for server-side ActionScript) adapters are enabled in ColdFusion.</p>
<p>You can also enable the JavaBeanAdapter, JavaAdapter, EJBAdapter, ServletAdapter, and CFWSAdapter (for web services) by removing their enclosing comment symbols (&lt;!-- and --&gt;). The following service adapter tags are defined as the default tag values:</p>
<p><code>&lt;service-adapters&gt; </code></p>
<p><code>&#160;&#160;&lt;adapter&gt;flashgateway.adapter.resultset.PageableResultSetAdapter</code></p>
<p><code>&#160;&#160;&lt;/adapter&gt; </code></p>
<p><code>&#160;&#160;&lt;adapter&gt;coldfusion.flash.adapter.ColdFusionAdapter&lt;/adapter&gt; </code></p>
<p><code>&#160;&#160;&lt;adapter&gt;coldfusion.flash.adapter.CFCAdapter&lt;/adapter&gt; </code></p>
<p><code>&#160;&#160;&lt;adapter&gt;coldfusion.flash.adapter.CFSSASAdapter&lt;/adapter&gt; </code></p>
<p><code>&#160;&#160;&lt;!-- &lt;adapter type=&quot;stateful-class&quot;&gt;flashgateway.adapter.java.</code></p>
<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JavaBeanAdapter&lt;/adapter&gt; --&gt; </code></p>
<p><code>&#160;&#160;&lt;!-- &lt;adapter type=&quot;stateless-class&quot;&gt;flashgateway.adapter.java.</code></p>
<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;JavaAdapter&lt;/adapter&gt; --&gt; </code></p>
<p><code>&#160;&#160;&lt;!-- &lt;adapter type=&quot;ejb&quot;&gt;flashgateway.adapter.java.EJBAdapter</code></p>
<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/adapter&gt; --&gt; </code></p>
<p><code>&#160;&#160;&lt;!-- &lt;adapter type=&quot;servlet&quot;&gt;flashgateway.adapter.java.ServletAdapter</code></p>
<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/adapter&gt; --&gt; </code></p>
<p><code>&#160;&#160;&lt;!-- &lt;adapter&gt;coldfusion.flash.adapter.CFWSAdapter&lt;/adapter&gt; --&gt; </code></p>
<p><code>&lt;/service-adapters&gt;</code></p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>security</p>
    </td>
    <td>
<p>You can edit security settings in child tags of the <code>&lt;security&gt;</code> tag.</p>
<p>In the <code>&lt;login-command&gt;</code> tag, you can set the <code>flashgateway.security.LoginCommand</code> implementation for performing local authentication on a specific application server. By default, the &lt;login-command&gt; tag is set to the following values:</p>
<p><code>&lt;login-command&gt; </code></p>
<p><code>&#160;&#160;&lt;class&gt;flashgateway.security.JRunLoginCommand&lt;/class&gt; </code></p>
<p><code>&#160;&#160;&lt;server-match&gt;JRun&lt;/server-match&gt; </code></p>
<p><code>&lt;/login-command&gt;</code></p>
<p>&#160;</p>
<p>In the <code>&lt;show-stacktraces&gt;</code> tag, you can enable stack traces. Stack traces are useful for debugging and product support, but they should not be sent to the client in production mode because they can expose internal information about the system. The following <code>&lt;show-stacktraces&gt;</code> tag is the default tag: </p>
<p><code>&lt;show-stacktraces&gt;false&lt;/show-stacktraces&gt;</code></p>
<p>&#160;</p>
<p>The <code>&lt;whitelist&gt;</code> tag specifies which remote sources can be accessed through the gateway. The * character can be used as a wildcard to imply ALL matches. The following <code>&lt;whitelist&gt;</code> tag shows the default value:</p>
<p><code>&lt;whitelist&gt; </code></p>
<p><code>&#160;&#160;&lt;source&gt;*&lt;/source&gt; </code></p>
<pre><code>&lt;/whitelist&gt;</code>
</pre><p>When you deploy your application, ensure that you change this setting so that it specifies only the services that the gateway needs to access to run your application. Remember that for ColdFusion based services, directories are treated as &quot;packages&quot; and thus you specify a period delimited path from the web root to the directory or file containing the services you will allow access to. An asterisk wildcard allows access to all services in a particular directory. You can have multiple &lt;source&gt; tags. </p>
<p>The following whitelist allows access to the <i>webroot</i>/cfdocs/exampleapps/ directory, which includes the flash1 through flash5 Flash Remoting example directories. It also allows access to a <i>webroot</i>/BigApp/remoting directory and its children.</p>
<pre>&lt;whitelist&gt;
&#160;&#160;&lt;source&gt;cfdocs.exampleapps.*&lt;/source&gt;
&#160;&#160;&lt;source&gt;BigApp.remoting.*&lt;/source&gt;
&lt;/whitelist&gt;
</pre>    </td>
  </tr>
  <tr>
    <td>
<p>logger level</p>
    </td>
    <td>
<p>You can set the level of logging between <code>None</code>, <code>Error</code>, <code>Info</code>, <code>Warning</code>, and <code>Debug</code>. The following tag is the default logger level tag:</p>
<p><code>&lt;logger level=&quot;Error&quot;&gt;coldfusion.flash.ColdFusionLogger&lt;/logger&gt;</code></p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>redirect URL</p>
    </td>
    <td>
<p>In the <code>&lt;redirect-url&gt;</code> tag, you can specify a URL to receive HTTP requests that are not sent with AMF data. By default, the <code>&lt;redirect-url&gt;</code> tag is set to <code>{context.root}</code>, which is the context root of the web application:</p>
<p><code>&lt;redirect-url&gt;{context.root}&lt;/redirect-url&gt;</code></p>
    </td>
  </tr>
  <tr>
    <td>
<p>case sensitivity</p>
    </td>
    <td>
<p>The &lt;<code>lowercase-keys&gt;</code> tag specifies how the gateway handles case sensitivity. ActionScript 1.0 and ColdFusion use case insensitive data structures to store associative arrays, objects and structs. The Java representation of these data types requires a case-insensitive Map, which the gateway achieves by forcing all keys to lowercase.</p>
<p>ActionScript 2.0 is case sensitive and requires a &lt;lowercase-keys&gt; tag value of <code>false</code>. </p>
<p>The following <code>&lt;lowercase-keys&gt;</code> tag is the default tag:</p>
<p><code>&lt;lowercase-keys&gt;true&lt;/lowercase-keys&gt;</code></p>
    </td>
  </tr>
</table>



<hr />
<p align="right"><p align="right"><a href="00001478.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001480.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001479.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



