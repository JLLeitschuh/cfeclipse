<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using the cfmailparam tag</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001599.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001601.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using the cfmailparam tag</h1>
<p>You use the <a href="00000298.htm#1101294"><code>cfmailparam</code></a> tag to include files in your message or add a custom header to an e-mail message. You can send files as attachments or display them inline in the message. You nest the <code>cfmailparam</code> tag within the <a href="00000297.htm#2355015"><code>cfmail</code></a> tag.</p>
<h2><a name="wp1108031"></a>Attaching files to a message</h2>
<p>You can use one <code>cfmailparam</code> tag for each attachment, as the following example shows:</p>
<pre>&lt;<code>cfmail</code> from=&quot;daniel@MyCompany.com&quot;
   to=&quot;jacob@YourCompany.com&quot;
   subject=&quot;Requested Files&quot;&gt;

Jake,

Here are the files you requested.

Regards,
Dan

&lt;cfmailparam file=&quot;c:\widget_launch\photo_01.jpg&quot;&gt;
&lt;cfmailparam file=&quot;c:\widget_launch\press_release.doc&quot;&gt;

&lt;/<code>cfmail</code>&gt;
</pre><p>You must use a fully qualified system path for the <code>file</code> attribute of <code>cfmailparam</code>. The file must be located on a drive on the ColdFusion server machine (or a location on the local network), not the browser machine.</p>
<h2><a name="wp1108150"></a>Including images in a message</h2>
<p>You can use the <code>cfmailparam</code> to include images from other files in an HTML message, as follows:</p>
<ol>
<li>
   Put a <code>cfmailparam</code> tag for each image following the <code>cfmail</code> start tag.
</li>
<li>
   In each <code>cfmailparam</code> tag, do the following
<ul><li>Set the <code>file</code> attribute to the location of the image.</li>
<li>Specify <code>disposition=&quot;inline&quot;</code></li>
<li>Set the <code>contentID</code> attribute to a unique identifier; for example, myImage1.</li>
</ul></li>
<li>
   In the location in your HTML where you want the message included, use an <code>img</code> tag such as the following:
<pre>
&lt;img src=&quot;cid:myImage1&quot;&gt;
</pre>
</li>
</ol>
<p>The following example shows a simple mail message with an inline image. In this case, the image is located between paragraphs, but you could include it directly inline with the text. To test this example, replace the <code>cfmail</code> <code>to</code> parameter with a valid email address and change the <code>file</code> parameter to the path to a valid image.</p>
<pre>&lt;cfmail type=&quot;HTML&quot;
      to = &quot;Peter@myCo.com&quot;
      from = &quot;Paul@AnotherCo.com&quot;
      subject = &quot;Sample inline image&quot;&gt;
   &lt;cfmailparam file=&quot;C:\Inetpub\wwwroot\web.gif&quot; 
      disposition=&quot;inline&quot; 
      contentID=&quot;image1&quot;&gt;
   &lt;P&gt;There should be an image here&lt;/p&gt;
   &lt;img src=&quot;cid:image1&quot;&gt;
   &lt;p&gt; This text follows the picture&lt;/p&gt;
&lt;/cfmail&gt;
</pre><h2><a name="wp1126381"></a>Adding a custom header to a message</h2>
<p>When the recipient of an e-mail message replies to the message, the reply is sent, by default, to the address specified in the From field of the original message. You can use <a href="00000298.htm#1101294"><code>cfmailparam</code></a> to provide a Reply-To e-mail address that tells the mail client to override the value in the From field. Using <code>cfmailparam</code>, the reply to the following example is addressed to widget_master@YourCompany.com:</p>
<pre>&lt;<code>cfmail</code> from=&quot;jacob@YourCompany.com&quot;
   to=&quot;daniel@MyCompany.com&quot;
   subject=&quot;Requested Files&quot;&gt;
<code>&lt;cfmailparam name=&quot;Reply-To&quot; value=&quot;widget_master@YourCompany.com&quot;&gt;</code>

<code>Dan,</code>
<code>Thanks very much for the sending the widget press release and graphic. </code>
<code>I'm now the company's Widget Master and am accepting e-mail at </code>
<code>widget_master@YourCompany.com.</code>

<code>See you at Widget World 2002!</code>

<code>Jake</code>
<code>&lt;/cfmail&gt;</code>
</pre><p><strong>Note: </strong>You can combine the two uses of <code>cfmailparam</code> within the same ColdFusion page. Write a separate <code>cfmailparam</code> tag for each header and for each attached file.</p>

<hr />
<p align="right"><p align="right"><a href="00001599.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001601.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001600.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



