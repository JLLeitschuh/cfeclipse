<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>XmlTransform</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000672.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000674.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>XmlTransform</h1>
<h4><a name="wp140094"></a>Description</h4>
<p>Applies an Extensible Stylesheet Language Transformation (XSLT) to XML. The XML can be in string format or an XML document object.</p>
<h4><a name="wp140096"></a>Returns</h4>
<p>A string containing the results of applying the XSLT to the XML.</p>
<h4><a name="wp140098"></a>Category</h4>
<p><a href="00000356.htm#1098761">Conversion functions</a>, <a href="00000372.htm#3468770">XML functions</a></p>
<h4><a name="wp140109"></a>Function syntax</h4>
<pre><code><strong>XmlTransform</strong></code>(<i>xml</i>, <i>xsl</i>[, <i>parameters</i>])
</pre><h4><a name="wp140111"></a>See also</h4>
<p><a href="00000352.htm#2497244"><code>cfxml</code></a>, <a href="00000668.htm#139554"><code>XmlFormat</code></a>, <a href="00000670.htm#139785"><code>XmlNew</code></a>, <a href="00000671.htm#139864"><code>XmlParse</code></a>, <a href="00000672.htm#141075"><code>XmlSearch</code></a>, <a href="00000674.htm#140217"><code>XmlValidate</code></a>; <a href="00001505.htm#1158596">Using XML and WDDX</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp140137"></a>History</h4>
<p>ColdFusion&#160;MX&#160;7: Added the <code>parameters</code> parameter and the ability to use a file for the XSL.</p>
<p>ColdFusion&#160;MX: Added this function.</p>
<h4><a name="wp140142"></a>Parameters</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Parameter
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>xml </p>
    </td>
    <td>
<p>An XML document in string format, or an XML document object</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>xsl</p>
    </td>
    <td>
<p>XSLT transformation to apply; can be any of the following:</p>
<p>Any of the following:</p>
<ul>
<li>
   A string containing XSL text.
</li>
<li>
   The name of an XSTLT file. Relative paths start at the directory containing the current CFML page. 
</li>
<li>
   The URL of an XSLT file; valid protocol identifiers include http, https, ftp, and file. Relative paths start at the directory containing the current CFML page. 
</li>
</ul>
    </td>
  </tr>
  <tr>
    <td>
<p>parameters</p>
    </td>
    <td>
<p>A structure containing XSL template parameter name-value pairs to use in transforming the document. The XSL transform defined in the <code><i>xslString</i></code> parameter uses these parameter values in processing the XML.</p>
    </td>
  </tr>
</table>

<h4><a name="wp140157"></a>Usage</h4>
<p>An XSLT converts an XML document to another format or representation by applying an Extensible Stylesheet Language (XSL) stylesheet to it. XSL, including XSLT syntax is specified by the World Wide Web Consortium (W3C). For detailed information on XSL and XSLT, see the W3C website at <a href="http://www.w3.org/TR/xpath" target="mm_window">www.w3.org/Style/XSL/</a>.</p>
<p>If the XSLT code contains include statements with relative paths, ColdFusion resolves them relative to the location of the XSLT file, or for an XSL string, the location of the current ColdFusion page.</p>
<h4><a name="wp140159"></a>Example</h4>
<p>The following example converts an XML document that represents a customer order into an HTML document with the customer name and a table with the order items and quantities:</p>
<p>The custorder.xml file that represents a customer order has the following lines:</p>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;order id=&quot;4323251&quot;&gt;
   &lt;customer firstname=&quot;Philip&quot; lastname=&quot;Cramer&quot; accountNum=&quot;21&quot;/&gt;
   &lt;items&gt;
      &lt;item id=&quot;43&quot;&gt;
         &lt;name&gt;Deluxe Carpenter&amp;apos;s Hammer&lt;/name&gt;
         &lt;quantity&gt;1&lt;/quantity&gt;
         &lt;unitprice&gt;15.95&lt;/unitprice&gt;
      &lt;/item&gt;
      &lt;item id=&quot;54&quot;&gt;
         &lt;name&gt;36&amp;quot; Plastic Rake&lt;/name&gt;
         &lt;quantity&gt;2&lt;/quantity&gt;
         &lt;unitprice&gt;6.95&lt;/unitprice&gt;
      &lt;/item&gt;
      &lt;item id=&quot;68&quot;&gt;
         &lt;name&gt;Standard paint thinner&lt;/name&gt;
         &lt;quantity&gt;3&lt;/quantity&gt;
         &lt;unitprice&gt;8.95&lt;/unitprice&gt;
      &lt;/item&gt;
   &lt;/items&gt;
&lt;/order&gt;
</pre><p>The custorder.xsd XSLT file that transforms the XML to HTML that displays the customer's name, and the items and quantities ordered has the following lines:</p>
<pre>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;
&lt;xsl:output method=&quot;html&quot; doctype-public=&quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot; /&gt;
   &lt;xsl:template match=&quot;/&quot;&gt;
      &lt;html&gt;
         &lt;body&gt;
            &lt;table border=&quot;2&quot; bgcolor=&quot;yellow&quot;&gt;
               &lt;tr&gt;
                  &lt;th&gt;Name&lt;/th&gt;
                  &lt;th&gt;Price&lt;/th&gt;
               &lt;/tr&gt;
               &lt;xsl:for-each select=&quot;breakfast_menu/food&quot;&gt;
                  &lt;tr&gt;
                     &lt;td&gt;
                        &lt;xsl:value-of select=&quot;name&quot;/&gt;
                     &lt;/td&gt;
                     &lt;td&gt;
                        &lt;xsl:value-of select=&quot;price&quot;/&gt;
                     &lt;/td&gt;
                  &lt;/tr&gt;
               &lt;/xsl:for-each&gt;
            &lt;/table&gt;
         &lt;/body&gt;
      &lt;/html&gt;
   &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</pre><p>The CFML file has the following lines:</p>
<pre>&lt;cffile action=&quot;read&quot; file=&quot;C:\CFusionMX7\wwwroot\examples\custorder.xsl&quot; variable=&quot;xmltrans&quot;&gt;
&lt;cfset xmldoc = XmlParse(&quot;C:\CFusionMX7\wwwroot\examples\custorder.xml&quot;)&gt;
&lt;cfoutput&gt;#<code><strong>XmlTransform(xmldoc, xmltrans)</strong></code>#&lt;/cfoutput&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000672.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000674.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000673.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



