<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Working with data returned from a query</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001315.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001317.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Working with data returned from a query</h1>
<p>Using Verity, you can search data returned by a query--such as a database record set--as if it were a collection of documents stored on your web server. Using Verity to search makes implementing a search interface much easier, as well as letting users more easily find information contained in database files. This section describes the reasons and procedures for indexing the results of database and other queries. It also describes how a database can direct the indexing process, using different values for the <code>type</code> attribute of the <a href="00000278.htm#1100286"><code>cfindex</code></a> tag. </p>
<p>This section describes the following topics:</p>
<ul>
<li>
   <a href="00001316.htm#1192560">Recordsets and types of queries</a>
</li>
<li>
   <a href="00001317.htm#1116513">Indexing data returned by a query</a>
</li>
<li>
   <a href="00001318.htm#1194496">Indexing a file returned using a query</a>
</li>
<li>
   <a href="00001319.htm#1192732">Indexing a path returned using a query</a>
</li>
<li>
   <a href="00001320.htm#1157482">Indexing query results obtained from an LDAP directory</a>
</li>
<li>
   <a href="00001321.htm#1199996">Indexing cfpop query results</a>
</li>
</ul>
<h2><a name="wp1192560"></a>Recordsets and types of queries</h2>
<p>When indexing record sets generated from a query (using the <a href="00000316.htm#1102316"><code>cfquery</code></a>, <a href="00000283.htm#1100581"><code>cfldap</code></a>, or <a href="00000311.htm#1101854"><code>cfpop</code></a> tag), <code>cfindex</code> creates indexes based on the <code>type</code> attribute and its set value:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Type
    </th>
    <th>
Attribute values
    </th>
  </tr>
  <tr>
    <td>
<p>File</p>
    </td>
    <td>
<p>The <code>key</code> attribute is the name of a column in the query that contains a full filename (including path). </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>Path</p>
    </td>
    <td>
<p>The <code>key</code> attribute is the name of a column in the query that contains a directory pathname.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>Custom</p>
    </td>
    <td>
<p>The <code>key</code> attribute specifies a column name that can contain anything you want. In this case, the <code>body</code> attribute is required, and is a comma-delimited list of the names of the columns that contain the text data that is to be indexed.</p>
    </td>
  </tr>
</table>

<p>The <code>cfindex</code> tag treats all collections the same, whether they originate from a database recordset, or if they are a collection of documents stored within your website's root folder. </p>


<hr />
<p align="right"><p align="right"><a href="00001315.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001317.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001316.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



