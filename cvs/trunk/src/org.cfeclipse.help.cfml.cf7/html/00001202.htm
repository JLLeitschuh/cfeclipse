<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Locales</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001201.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001203.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Locales</h1>
<p>A <i>locale</i> identifies the exact language and cultural settings to use for a user. The locale controls how to format the following:</p>
<ul>
<li>
   Dates
</li>
<li>
   Times
</li>
<li>
   Numbers
</li>
<li>
   Currency amounts
</li>
</ul>
<p>ColdFusion MX supports all locales supported by the JVM that it uses.</p>
<p><strong>Note: </strong>Current JVM versions (through 1.4.2) do not support localized numbers such as Arabic-hindic numbers used in Arabic locales or hindic digits used in Hindi locales. ColdFusion uses Arabic numbers in all locales.</p><h2><a name="wp1227192"></a>Locale names</h2>
<p>ColdFusion&#160;MX&#160;7 supports two formats for specifying locale names: the standard Java locale names and the ColdFusion naming convention that was required through ColdFusion MX 6.1. </p>
<ul>
<li>
   You can specify all locales using a name consisting of the following:
<ul><li>Two lowercase letters to identify the language; for example, en for English, or zh for Chinese.</li>
<li>Optionally, an underscore and a two uppercase letters to identify the regional variant of the language; for example, US for the United States, or HK for Hong Kong.</li>
<p>For example, en_US represents United States English and es_MX represents Mexican Spanish. For a list of the Java locale identifiers supported in the Sun 1.4.2 JVM and their meanings, see <a href="http://java.sun.com/j2se/1.4.2/docs/guide/intl/locale.doc.html" target="mm_window">http://java.sun.com/j2se/1.4.2/docs/guide/intl/locale.doc.html</a>.</p>
</ul></li>
<li>
   Prior to ColdFusion&#160;MX&#160;7, ColdFusion supported a limited set of locales, and used identifiers that consisted of the name of the language, followed, for most languages, by a regional identifier in parentheses, such as English (US) or German (Standard). ColdFusion MX continues to support these names; for a list, see <a href="00000624.htm#136340"><code>SetLocale</code></a> in <i>CFML Reference</i>.
</li>
</ul>
<p>The <code>Server.coldfusion.supportedlocales</code> variable is a comma-delimited list of the locale names that you can specify.</p>
<p>ColdFusion also includes a <a href="00000487.htm#5046249"><code>GetLocaleDisplayName</code></a> function that returns a locale name in a format that is meaningful to users. It lets you display the locale using words in the user's language; for example, fran√ßais (France).</p>
<h2><a name="wp1227407"></a>Determining the locale</h2>
<p>ColdFusion&#160;MX&#160;7 determines the locale value as follows: </p>
<ul>
<li>
   By default, ColdFusion uses the JVM locale, and the default JVM locale is the operating system locale. You can set the JVM locale value explicitly in ColdFusion&#160;MX&#160;7 in the JVM Arguments field on the Java and JVM Settings page in the ColdFusion&#160;MX Administrator; for example: 
<pre>
-Duser.language=de -Duser.region=DE.
</pre>
</li>
<li>
   A locale set using the <a href="00000624.htm#136340"><code>SetLocale</code></a> function persists for the current request or until it is reset by another <code>SetLocale</code> function in the request.
</li>
<li>
   If a request has multiple <code>SetLocale</code> functions, the current locale setting affects how locale-sensitive ColdFusion tags and functions (such as the functions that start with <strong>LS</strong>) format data. The last <code>SetLocale</code> function that ColdFusion processes before sending a response to the requestor (typically the client browser) determines the value of the response <code>Content-Language</code> HTTP header. The browser that requested the page displays the response according to the rules for the language specified by the <code>Content-Language</code> header.
</li>
<li>
   ColdFusion ignores any <code>SetLocale</code> functions that follow a <a href="00000255.htm#2130748"><code>cfflush</code></a> tag.
</li>
</ul>
<h2><a name="wp1213662"></a>Using the locale</h2>
<p>The <a href="00000624.htm#136340"><code>SetLocale</code></a> function determines the default formats that ColdFusion uses to output date, time, number, and currency values. You use the <a href="00000486.htm#4552309"><code>GetLocale</code></a> function to determine the current locale setting of ColdFusion, or you can use the <a href="00000487.htm#5046249"><code>GetLocaleDisplayName</code></a> function to get the locale name in a format that is meaningful to users. If you have not made a call to <code>SetLocale</code>, <code>GetLocale</code> returns the locale of the JVM. </p>
<p>The current locale has two effects: </p>
<ul>
<li>
   When ColdFusion formats date, time, currency, or numeric output, it determines how to format the output. You can change the locale multiple times on a ColdFusion page to format information according to different locale conventions. This enables you to output a page that properly formats different currency values, for example.
</li>
<li>
   When ColdFusion returns a page to the client, it includes the HTTP <code>Content-Language</code> header. ColdFusion uses the last locale setting on the page for this information.
</li>
</ul>
<p><strong>Note: </strong>In earlier versions of ColdFusion, the default locale was always English, not the operating system's locale. For the Japanese version of ColdFusion, the default was Japanese. </p><p>The following example uses the <a href="00000570.htm#132017"><code>LSCurrencyFormat</code></a> function to output the value 100,000 in monetary units for all the ColdFusion-supported locales. You can run this code to see how the locale affects the data returned to a browser. </p>
<pre>&lt;p&gt;LSCurrencyFormat returns a currency value using the locale convention. 
&lt;!--- loop through list of locales; show currency values for 100,000 units ---&gt;
&lt;cfloop LIST = &quot;#Server.Coldfusion.SupportedLocales#&quot;<br />index = &quot;locale&quot; delimiters = &quot;,&quot;&gt;
&lt;cfset oldlocale = SetLocale(locale)&gt;
   &lt;cfoutput&gt;&lt;p&gt;&lt;b&gt;&lt;I&gt;#locale#&lt;/I&gt;&lt;/b&gt;&lt;br&gt;
      Local: #LSCurrencyFormat(100000, &quot;local&quot;)#&lt;br&gt;
      International: #LSCurrencyFormat(100000, &quot;international&quot;)#&lt;br&gt;
      None: #LSCurrencyFormat(100000, &quot;none&quot;)#&lt;br&gt;
      &lt;hr noshade&gt;
   &lt;/cfoutput&gt;
&lt;/cfloop&gt;
</pre><p>This example uses the ColdFusion variable <code>Server.Coldfusion.SupportedLocales</code>, which contains a list of all supported ColdFusion locales. </p>


<hr />
<p align="right"><p align="right"><a href="00001201.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001203.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001202.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



