<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>CF.query</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000856.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000858.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>CF.query</h1>
<h4><a name="wp1003136"></a>Description</h4>
<p>Performs queries against ColdFusion data sources. </p>
<h4><a name="wp1004659"></a>Return value</h4>
<p>Returns a RecordSet object.</p>
<h4><a name="wp1013637"></a>Syntax</h4>
<pre>CF.query<br />   ({<br />      datasource:&quot;data source name&quot;, <br />      sql:&quot;SQL stmts&quot;, <br />      username:&quot;username&quot;, <br />      password:&quot;password&quot;,<br />      maxrows:number, <br />      timeout:milliseconds<br />   })
</pre><h4><a name="wp1003273"></a>Arguments</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Arguments
    </th>
    <th>
Req/Opt
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>datasource</p>
    </td>
    <td>
<p>Required</p>
    </td>
    <td>
<p>Name of the data source from which the query retrieves data.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>sql</p>
    </td>
    <td>
<p>Required</p>
    </td>
    <td>
<p>SQL statement.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>username</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Username. Overrides the username specified in the data source setup.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>password</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Password. Overrides the password specified in the data source setup.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>maxrows</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Maximum number of rows to return in the record set.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>timeout</p>
    </td>
    <td>
<p>Optional</p>
    </td>
    <td>
<p>Maximum number of seconds for the query to execute before returning an error indicating that the query has timed out. Can only be used in named arguments.</p>
    </td>
  </tr>
</table>

<h4><a name="wp1003275"></a>Usage</h4>
<p>You can code the <code>CF.query</code> function using named or positional arguments. You can invoke all supported arguments using the named argument style, as follows:</p>
<pre>CF.query({datasource:&quot;datasource&quot;, sql:&quot;sql stmt&quot;,
   username:&quot;username&quot;, password:&quot;password&quot;, maxrows:&quot;maxrows&quot;,
   timeout:&quot;timeout&quot;});
</pre><p><strong>Note: </strong>The named argument style uses curly braces {} to surround the function arguments.</p><p>Positional argument style, which is a shorthand coding style, does not support all arguments. Use the following syntax to code the <code>CF.query</code> function using positional arguments:</p>
<pre>CF.query(datasource, sql);
CF.query(datasource, sql, maxrows);
CF.query(datasource, sql, username, password);
CF.query(datasource, sql, username, password, maxrows);
</pre><p><strong>Note: </strong>Do not use curly braces {} with positional arguments.</p><p>You can manipulate the record set returned by the <code>CF.query</code> function using methods in the RecordSet ActionScript class. The following are some of the methods available in the RecordSet class:</p>
<ul>
<li>
   <code>RecordSet.getColumnnames</code> 
</li>
<li>
   <code>RecordSet.getLength</code> 
</li>
<li>
   <code>RecordSet.getItemAt</code> 
</li>
<li>
   <code>RecordSet.getItemID</code> 
</li>
<li>
   <code>RecordSet.sortItemsBy</code> 
</li>
<li>
   <code>RecordSet.getNumberAvailable</code> 
</li>
<li>
   <code>RecordSet.filter</code> 
</li>
<li>
   <code>RecordSet.sort</code> 
</li>
</ul>
<p>For more information on using server-side ActionScript, see <a href="00001484.htm#998941">Using Server-Side ActionScript</a> in <i>ColdFusion MX Developer's Guide</i>. For more detailed information about the RecordSet ActionScript class, see <i>Using Flash Remoting</i>.</p>
<h4><a name="wp1008671"></a>Example</h4>
<pre>// Define a function to do a basic query
// Note use of positional arguments
function basicQuery()
{
   result = CF.query(&quot;myquery&quot;, &quot;cust_data&quot;, &quot;SELECT * from tblParks&quot;);
   return result;
}

// Example function declaration using named arguments
function basicQuery()
{
   result = CF.query({datasource:&quot;cust_data&quot;, sql:&quot;SELECT * from tblParks&quot;});
   return result;
}

// Example of the CF.query function using maxrows argument
function basicQueryWithMaxRows()
{
   result = CF.query(&quot;cust_data&quot;, &quot;SELECT * from tblParks&quot;, 25);
   return result;
}

// Example of the CF.query function with username and password
function basicQueryWithUser()
{
   result = CF.query(&quot;cust_data&quot;, &quot;SELECT * from tblParks&quot;, 
      &quot;wsburroughs&quot;, &quot;migraine1&quot;);
   return result;
}
</pre>

<hr />
<p align="right"><p align="right"><a href="00000856.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000858.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000857.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



