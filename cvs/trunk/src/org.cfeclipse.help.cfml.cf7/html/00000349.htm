<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>cftry</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000348.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000350.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>cftry</h1>
<h4><a name="wp2293764"></a>Description</h4>
<p>Used with one or more <a href="00000225.htm#3395038"><code>cfcatch</code></a> tags. Together, they catch and process exceptions in ColdFusion pages. <i>Exceptions</i> are events that disrupt the normal flow of instructions in a ColdFusion page, such as failed database operations, missing include files, and developer-specified events.</p>
<h4><a name="wp1963109"></a>Category</h4>
<p><a href="00000201.htm#2459716">Exception handling tags</a></p>
<h4><a name="wp1104559"></a>Syntax</h4>
<pre>&lt;cftry&gt;<br /><i>   Code that might throw an exception<br />   One or more cfcatch blocks<br /></i>&lt;/cftry&gt;
</pre><h4><a name="wp1963116"></a>See also</h4>
<p><a href="00000225.htm#3395038"><code>cfcatch</code></a>, <a href="00000242.htm#2022557"><code>cferror</code></a>, <a href="00000325.htm#1102913"><code>cfrethrow</code></a>, <a href="00000343.htm#2773591"><code>cfthrow</code></a>, <a href="00000697.htm#1188543">onError</a>; <a href="00001130.htm#1220254">Handling Errors</a> in <i>ColdFusion MX Developer's Guide</i></p>
<h4><a name="wp2323063"></a>History</h4>
<p>ColdFusion&#160;MX: Changed <a href="00000329.htm#1103056"><code>cfscript</code></a> to include <code>try</code> and <code>catch</code> statements that are equivalent to the <code>cftry</code> and <code>cfcatch</code> tags.</p>
<h4><a name="wp1104573"></a>Usage</h4>
<p>Within a <code>cftry</code> block, put the code that might throw an exception, followed by one ore more <code>cfcatch</code> tags that catch and process exceptions. This tag requires an end tag.</p>
<h4><a name="wp1104610"></a>Example</h4>
<pre>&lt;!--- cftry example, using TagContext to display the tag stack. ---&gt;
&lt;h3&gt;cftry Example&lt;/h3&gt;
&lt;!--- Open a cftry block. ---&gt;
<strong>&lt;cftry&gt;</strong>
   &lt;!--- Note misspelled tablename &quot;employees&quot; as &quot;employeeas&quot;. ---&gt;
   &lt;cfquery name = &quot;TestQuery&quot; dataSource = &quot;cfdocexamples&quot;&gt;
      SELECT *
      FROM EMPLOYEEAS
   &lt;/cfquery&gt;

   &lt;!--- &lt;p&gt;... other processing goes here ---&gt;
   &lt;!--- specify the type of error for which we search ---&gt;
   &lt;cfcatch type = &quot;Database&quot;&gt;
   &lt;!--- the message to display ---&gt;
      &lt;h3&gt;You&#39;ve Thrown a Database &lt;b&gt;Error&lt;/b&gt;&lt;/h3&gt;
      &lt;cfoutput&gt;
         &lt;!--- and the diagnostic message from the ColdFusion server ---&gt;
         &lt;p&gt;#cfcatch.message#&lt;/p&gt;
         &lt;p&gt;Caught an exception, type = #CFCATCH.TYPE# &lt;/p&gt;
         &lt;p&gt;The contents of the tag stack are:&lt;/p&gt;
         &lt;cfloop index = i from = 1 
               to = #ArrayLen(CFCATCH.TAGCONTEXT)#&gt;
            &lt;cfset sCurrent = #CFCATCH.TAGCONTEXT[i]#&gt;
            &lt;br&gt;#i# #sCurrent[&quot;ID&quot;]# 
               (#sCurrent[&quot;LINE&quot;]#,#sCurrent[&quot;COLUMN&quot;]#) 
               #sCurrent[&quot;TEMPLATE&quot;]#
         &lt;/cfloop&gt;
      &lt;/cfoutput&gt;
   &lt;/cfcatch&gt;
<strong>&lt;/cftry&gt;</strong>
</pre>

<hr />
<p align="right"><p align="right"><a href="00000348.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000350.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000349.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



