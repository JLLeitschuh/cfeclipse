<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Enhancing search results</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001308.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001310.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Enhancing search results</h1>
<p>ColdFusion lets you enhance the results of searches by letting you incorporate search features that let users more easily find the information they need. The following search enhancements are available through Verity:</p>
<ul>
<li>
   <a href="00001309.htm#1215413">Highlighting search terms</a>
</li>
<li>
   <a href="00001310.htm#1192972">Providing alternative spelling suggestions</a>
</li>
<li>
   <a href="00001311.htm#1193448">Narrowing searches using categories</a>
</li>
</ul>
<h2><a name="wp1215413"></a>Highlighting search terms</h2>
<p>Term highlighting lets users quickly scan retrieved documents to determine whether they contain the desired information. This can be especially useful when searching lengthy documents, letting users quickly locate relevant information returned by the search.</p>
<p>To implement term highlighting, use the following cfsearch attributes in the search results page:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Attributes
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>ContextHighlightBegin</p>
    </td>
    <td>
<p>Specifies the HTML tag to prepend to the search term within the returned documents. This attribute must be used in conjunction with ContextHighlightEnd to highlight the resulting search terms. The default HTML tag is &lt;b&gt;, which highlights search terms using bold type.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>ContextHighlightEnd</p>
    </td>
    <td>
<p>Specifies the HTML tag to append to the search term within the returned documents.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>ContextPassages</p>
    </td>
    <td>
<p>The number of passages/sentences Verity returns in the context summary (the context column of the results). The default value is 0; this disables the context summary.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>ContextBytes</p>
    </td>
    <td>
<p>The total number of bytes that Verity returns in the context summary. The default is 300 bytes.</p>
    </td>
  </tr>
</table>

<p>The following example adds to the previous search results example, highlighting the returned search terms with bold type. </p>
<h4>To create a search results page using term highlighting:</h4>
<ol>
<li>
   Create a ColdFusion page with the following content:
<pre>
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;Search Results&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;cfsearch 
	name = &quot;codecoll_results&quot;
	collection = &quot;CodeColl&quot;
	criteria = &quot;#Form.Criteria#&quot;&gt;
	ContextHighlightBegin=&quot;&lt;b&gt;&quot;
	ContextHighlightEnd=&quot;&lt;/b&gt;&quot;
	ContextPassages=&quot;1&quot; 
	ContextBytes=&quot;500&quot;
	maxrows = &quot;100&quot;&gt;
&lt;h2&gt;Search Results&lt;/h2&gt;
&lt;cfoutput&gt;
Your search returned #codecoll_results.RecordCount# file(s).
&lt;/cfoutput&gt;

&lt;cfoutput query=&quot;codecoll_results&quot;&gt;
	&lt;p&gt;
	File: &lt;a href=&quot;#URL#&quot;&gt;#Key#&lt;/a&gt;&lt;br&gt;
	Document Title (if any): #Title#&lt;br&gt;
	Score: #Score#&lt;br&gt;
	Summary: #Summary#&lt;br&gt;
	Highlighted Summary: #context#&lt;/p&gt;
&lt;/cfoutput&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</li>
<li>
   Save the file as collection_search_action.cfm.
<p><strong>Note: </strong>This overwrites the previous ColdFusion example page.</p></li>
<li>
   View collection_search_form.cfm in the web browser:
</li>
<li>
   Enter a target word(s) and click Search.
</li>
</ol>


<hr />
<p align="right"><p align="right"><a href="00001308.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001310.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001309.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



