<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Including pages with the cfinclude tag</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000994.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000996.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Including pages with the cfinclude tag</h1>
<p>The <a href="00000277.htm#1100248"><code>cfinclude</code></a> tag adds the contents of a ColdFusion page to another ColdFusion page, as if the code on the included page were part of the page that uses the <code>cfinclude</code> tag. It lets you pursue a &quot;write once use multiple times&quot; strategy for ColdFusion elements that you incorporate in multiple pages. Instead of copying and maintaining the same code on multiple pages, you can store the code in one page and then refer to it in many pages. For example, the <code>cfinclude</code> tag is commonly used to put a header and footer on multiple pages. This way, if you change the header or footer design, you only change the contents of a single file.</p>
<p>The model of an included page is that it is part of your page; it just resides in a separate file. The <code>cfinclude</code> tag cannot pass parameters to the included page, but the included page has access to all the variables on the page that includes it. The following figure shows this model:</p>
<p><br />
<img src="images/cfinclud.jpg" alt="Including a page using cfinclude" border="0" hspace="0" vspace="0"/>
<br />
</p>
<h2><a name="wp1173007"></a>Using the cfinclude tag</h2>
<p>When you use the <code>cfinclude</code> tag to include one ColdFusion page in another ColdFusion page, the page that includes another page is referred to as the <i>calling</i> page. When ColdFusion encounters a <code>cfinclude</code> tag it replaces the tag on the calling page with the output from processing the included page. The included page can also set variables in the calling page.</p>
<p>The following line shows a sample <code>cfinclude</code> tag: </p>
<pre>&lt;<code>cfinclude</code> template = &quot;header.cfm&quot;&gt;
</pre><p><strong>Note: </strong>You cannot break CFML code blocks across pages. For example, if you open a <a href="00000309.htm#1101659"><code>cfoutput</code></a> block in a ColdFusion page, you must close the block on the same page; you cannot include the closing portion of the block in an included page. </p><p>ColdFusion searches for included files as follows:</p>
<ul>
<li>
   The <code>template</code> attribute specifies a path relative to the directory of the calling page.
</li>
<li>
   If the template value is prefixed with a forward slash (/), ColdFusion&#160;MX searches for the included file in directories that you specify on the Mappings page of the ColdFusion&#160;MX Administrator.
</li>
</ul>
<p><strong>Caution: </strong>A page must not include itself. Doing so causes an infinite processing loop, and you must stop the ColdFusion server to resolve the problem.</p><h4>To include code in a calling page:</h4>
<ol>
<li>
   Create a ColdFusion page named header.cfm that displays your company's logo. Your page can consist of just the following lines, or it can include many lines to define an entire header:
<pre>
&lt;img src=&quot;mylogo.gif&quot;&gt;
&lt;br&gt;
</pre>
<p>(For this example to work, you must also put your company's logo as a GIF file in the same directory as the header.cfm file.)</p>
</li>
<li>
   Create a ColdFusion page with the following content: 
<pre>
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;Test for Include&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;cfinclude template=&quot;header.cfm&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</li>
<li>
   Save the file as includeheader.cfm and view it in a browser.
</li>
</ol>
<p>The header should appear along with the logo.</p>
<h2><a name="wp1174334"></a>Recommended uses</h2>
<p>Consider using the <code>cfinclude</code> tag in the following cases:</p>
<ul>
<li>
   For page headers and footers
</li>
<li>
   To divide a large page into multiple logical chunks that are easier to understand and manage
</li>
<li>
   For large &quot;snippets&quot; of code that are used in many places but do not require parameters or fit into the model of a function or tag
</li>
</ul>


<hr />
<p align="right"><p align="right"><a href="00000994.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000996.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000995.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



