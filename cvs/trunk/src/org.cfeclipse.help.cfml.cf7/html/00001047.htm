<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Invoking component methods using a form</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001046.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001048.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Invoking component methods using a form</h1>
<p>To invoke a method using a ColdFusion or HTML form, the following must be true:</p>
<ul>
<li>
   The <code>form</code> or <a href="00000256.htm#2433198"><code>cfform</code></a> tag <code>action</code> attribute must specify the CFC filename or path followed by <code>?method=</code><i>methodname</i>, where methodname is the name of the method; for example, <code>&lt;form action=&quot;myComponent.cfc?method=myMethod&quot; method=&quot;POST&quot;&gt;.</code>
</li>
<li>
   The form must have an input tag for each component method parameter. The <code>name</code> attribute of the tag must be the method parameter name and the field value is the parameter value. 
</li>
<li>
   The <a href="00000263.htm#2852457"><code>cffunction</code></a> tag that defines the CFC method being invoked must specify the <code>access=&quot;remote&quot;</code> attribute.
</li>
</ul>
<p>If the CFC method that you invoke from the form displays output directly, the user's browser shows the output. (You can use the <a href="00000263.htm#2852457"><code>cffunction</code></a> tag <code>output</code> attribute to disable displaying output.) If the CFC returns a result using the <a href="00000326.htm#2498057"><code>cfreturn</code></a> tag, ColdFusion converts the text to HTML edit format, puts it in a WDDX packet, and includes the packet in the HTML that it returns to the client.</p>
<h4>To invoke component methods using a form:</h4>
<ol>
<li>
   Create a corpFind.cfm file with the following contents:
<pre>
&lt;h2&gt;Find People&lt;/h2&gt;
&lt;form action=&quot;components/corpQuery.cfc?method=&quot;getEmp&quot; method=&quot;post&quot;&gt;
	&lt;p&gt;Enter employee&#39;s last Name:&lt;/p&gt;
	&lt;input type=&quot;Text&quot; name=&quot;lastName&quot;&gt;
	&lt;input type=&quot;Hidden&quot; name=&quot;method&quot; value=&quot;getEmp&quot;&gt;
	&lt;input type=&quot;Submit&quot; title=&quot;Submit Query&quot;&gt;&lt;br&gt;
&lt;/form&gt;
</pre>
<p>In the example, the <code>form</code> tag's <code>action</code> attribute points to the <code>corpQuery</code> component and invokes the <code>getEmp</code> method.</p>
</li>
<li>
   Create a corpQuery.cfc file, specifying <code>access=&quot;remote&quot;</code> for each <code>cffunction</code> tag, as the following example shows:
<pre>
&lt;cfcomponent&gt;
	&lt;cffunction name=&quot;getEmp&quot; access=&quot;remote&quot;&gt;
		&lt;cfargument name=&quot;lastName&quot; required=&quot;true&quot;&gt;
		&lt;cfset var empQuery=&quot;&quot;&gt;
		 &lt;cfquery name=&quot;empQuery&quot; datasource=&quot;cfdocexamples&quot;&gt;
		 	SELECT LASTNAME, FIRSTNAME, EMAIL
		 	FROM tblEmployees
			WHERE LASTNAME LIKE &#39;#arguments.lastName#&#39;
		 &lt;/cfquery&gt;
		 &lt;cfoutput&gt;Results filtered by #arguments.lastName#:&lt;/cfoutput&gt;&lt;br&gt;
		 &lt;cfdump var=#empQuery#&gt;
	&lt;/cffunction&gt;
&lt;/cfcomponent&gt;
</pre>
</li>
<li>
   Open a web browser and enter the following URL:
<pre>
http://localhost/corpFind.cfm
</pre>
<p>ColdFusion displays the search form. After you enter values and click the Submit Query button, the browser displays the results.</p>
</li>
</ol>


<hr />
<p align="right"><p align="right"><a href="00001046.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001048.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001047.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



