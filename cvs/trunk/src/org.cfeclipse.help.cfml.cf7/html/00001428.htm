<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Charting multiple data collections</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001427.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001429.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Charting multiple data collections</h1>
<p>Sometimes, you might have more than one series of data to display on a single chart, or you want to compare two sets of data on the same chart. In some cases, you might want to use different charting types on the same chart. For example, you might want to include a line chart on a bar chart. </p>
<p>To combine multiple data series into a single chart, insert multiple <a href="00000228.htm#2741830"><code>cfchartseries</code></a> tags within a single <a href="00000226.htm#2619630"><code>cfchart</code></a> tag. You control how the multiple data collections are charted using the <code>seriesPlacement</code> attribute of the <code>cfchart</code> tag. Using this attribute, you can specify the following options:</p>
<p><strong>default</strong>&#160;Let ColdFusion determine the best method for combining the data.</p>
<p><strong>cluster</strong>&#160;Place corresponding chart elements from each series next to each other. </p>
<p><strong>stacked</strong>&#160;Combine the corresponding elements of each series.</p>
<p><strong>percent</strong>&#160;Show the elements of each series as a percentage of the total of all corresponding elements.</p>
<p>The following figure shows these options for combining two bar charts: </p>
<p><br />
<img src="images/graphia3.jpg" alt="The three options for combining two bar charts in a single chart" border="0" hspace="0" vspace="0"/>
<br />
</p>
<p>You can also combine chart types. The following is a combination bar and line chart: </p>
<p><br />
<img src="images/chart_o5.jpg" alt="Example cobining a bar chart and a line chart in a single chart" border="0" hspace="0" vspace="0"/>
<br />
</p>
<p>The only chart type that you cannot mix with others is the pie chart. If you define one of the data series to use a pie chart, no other chart will appear. </p>
<p>The example in the following procedure creates the chart in the previous figure, which shows a bar chart with a line chart added to it. In this example, you chart the salary of permanent employees (bar) against contract employees (line). </p>
<p><strong>Note: </strong>The layering of multiple series depends on the order that you specify the <code>cfchartseries</code> tags. For example, if you specify a bar chart first and a line chart second, the bar chart appears in front of the line chart in the final chart.</p><h4>To create a combination bar chart and line chart: </h4>
<ol>
<li>
   Open the chartdata.cfm file in your editor.
</li>
<li>
   Edit the <code>cfchart</code> tag so that it appears as follows:
<pre>
&lt;cfchart 
		backgroundColor=&quot;white&quot;
		xAxisTitle=&quot;Department&quot;
		yAxisTitle=&quot;Salary Average&quot;
		font=&quot;Arial&quot;
		gridlines=6
		showXGridlines=&quot;yes&quot;
		showYGridlines=&quot;yes&quot;
		showborder=&quot;yes&quot;
	&gt; 
	&lt;cfchartseries 
		type=&quot;line&quot; 
		seriesColor=&quot;blue&quot; 
		paintStyle=&quot;plain&quot;
		seriesLabel=&quot;Contract Salaries&quot;
		&gt;
			&lt;cfchartdata item=&quot;HR&quot; value=70000&gt;
			&lt;cfchartdata item=&quot;Marketing&quot; value=95000&gt;
			&lt;cfchartdata item=&quot;Sales&quot; value=80000&gt;
			&lt;cfchartdata item=&quot;Training&quot; value=93000&gt;
		&lt;/cfchartseries&gt;
	&lt;cfchartseries 
		type=&quot;bar&quot; 
		query=&quot;DeptSalaries&quot; 
		valueColumn=&quot;AvgByDept&quot; 
		itemColumn=&quot;Dept_Name&quot;
		seriesColor=&quot;gray&quot; 
		paintStyle=&quot;plain&quot;
		seriesLabel=&quot;Dept. Average Salaries&quot;
		/&gt;

&lt;/cfchart&gt;
</pre>
</li>
<li>
   Save the file as chart2queries.cfm in the myapps directory under the web root directory.
</li>
<li>
   Return to your browser and view the chart2queries.cfm page. 
</li>
</ol>


<hr />
<p align="right"><p align="right"><a href="00001427.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001429.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001428.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



