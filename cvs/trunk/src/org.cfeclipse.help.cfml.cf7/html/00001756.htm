<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Configuration files</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001755.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001757.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Configuration files</h1>
<p>The Web Server Configuration Tool stores properties in configuration files, as follows:</p>
<p><strong>IIS</strong>&#160;In the jrun.ini file, typically found in a subdirectory of the <i>cf_root</i>/runtime/lib/wsconfig (server configuration) or <i>jrun_root</i>/lib/wsconfig (multiserver configuration) directory. For IIS 5 only, it also defines filter and extension mappings in the IIS metabase.</p>
<p><strong>Apache</strong>&#160;In the httpd.conf file, typically found in the <i>apache_root</i>/conf directory.</p>
<p><strong>Sun ONE Web Server/iPlanet</strong>&#160;In the obj.conf and magnus.conf files, typically found in the <i>ws_root/server</i>-http-<i>xxx</i>/config directory.</p>
<p>The following table describes the web server connector properties in the web server configuration files. The web server connector uses these settings to help it find the ColdFusion server and know which servers to connect to.</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Property
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>bootstrap</p>
    </td>
    <td>
<p>Specifies the IP address and port on which the JRun server's proxy service is listening for connector requests. JRun must also be configured to listen on this port and address combination, the ProxyService must be activated, and the JRun server must be running. Specify ipaddress:portnumber (for example, 127.0.0.1:51011).</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>serverstore</p>
    </td>
    <td>
<p>Specifies the full path and filename of the file that contains information for the associated JRun server. The connector creates this file automatically. The default filename is jrunserver.store.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>verbose</p>
    </td>
    <td>
<p>Creates more detailed web server log file entries for the connector. Enabling this option can cause the web server's log files to fill quickly. Specify <code>true</code> or <code>false</code>; the default value is <code>false</code>. In Apache and Sun ONE Web Server, the connector writes to the error log configured for the web server; on IIS, the connector writes to its own log in the related wsconfig subdirectory.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>scriptpath</p>
    </td>
    <td>
<p>(IIS only) Points to the virtual /JRunScripts directory on the web server.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>errorurl</p>
    </td>
    <td>
<p>(Optional) Specifies the URL to a file that contains a customized error message. This property is commented out by default. You must restart the web server after enabling this setting.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>ssl</p>
    </td>
    <td>
<p>(Optional) Enables secure sockets layer (SSL) between the web server and the JRun server. You must set this setting to <code>false</code>.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>apialloc</p>
    </td>
    <td>
<p>Enables native OS memory allocation rather than the web server's allocator (for use on Solaris with Sun ONE, at the direction of Macromedia Support staff).</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>ignoresuffixmap</p>
    </td>
    <td>
<p>(IIS only) Forces the connector to use application mappings.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>proxyretryinterval</p>
    </td>
    <td>
<p>Specifies the number of seconds to wait before trying to reconnect to an unreachable clustered server.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>connecttimeout</p>
    </td>
    <td>
<p>Specifies the number of seconds to wait on a socket connect to a JRun server.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>recvtimeout</p>
    </td>
    <td>
<p>Specifies the number of seconds to wait on a socket receive to a JRun server.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>sendtimeout</p>
    </td>
    <td>
<p>Specifies the number of seconds to wait on a socket send to a JRun server.</p>
    </td>
  </tr>
</table>

<p>Each time you run the Web Server Configuration Tool, it creates a new configuration file and directory. For example, the first time you run the tool in the server configuration, it creates files under <i>cf_root</i>/runtime/lib/wsconfig/1; the second time, it creates <i>cf_root</i>/runtime/lib/wsconfig/2; and so on. Each of these subdirectories contains the appropriate platform-specific connector module and web-server-specific supporting files.</p>
<h3><a name="wp120516"></a>Sample configuration files</h3>
<p>To help describe the web server configuration file parameters, this section provides examples of connector-specific web server properties. These examples assume that JRun and the web server are on the same computer.</p>
<h4><a name="wp102991"></a>Apache configuration file</h4>
<p>The following is a typical httpd.conf file for an installation of ColdFusion&#160;MX on the same computer as an Apache 2.0 web server:</p>
<pre># JRun Settings
LoadModule jrun_module &quot;C:/CFusionMX7/runtime/lib/wsconfig/1/mod_jrun20.so&quot;
&lt;IfModule mod_jrun20.c&gt;
    JRunConfig Verbose false
    JRunConfig Apialloc false
    JRunConfig Ssl false
    JRunConfig Ignoresuffixmap false
    JRunConfig Serverstore &quot;C:/CFusionMX7/runtime/lib/wsconfig/1/jrunserver.store&quot;
    JRunConfig Bootstrap 127.0.0.1:51011
    #JRunConfig Errorurl &lt;optionally redirect to this URL on errors&gt;
    #JRunConfig ProxyRetryInterval &lt;number of seconds to wait before trying to reconnect to unreachable clustered server&gt;
    #JRunConfig ConnectTimeout 15
    #JRunConfig RecvTimeout 300
    #JRunConfig SendTimeout 15
    AddHandler jrun-handler .jsp .jws .cfm .cfml .cfc .cfr .cfswf
&lt;/IfModule&gt;
</pre><h4><a name="wp103004"></a>IIS configuration file</h4>
<p>For IIS, the connector uses the jrun.ini file to initialize the jrun.dll file (jrun_iis6.dll on IIS 6). The following is a typical jrun.ini file:</p>
<pre>verbose=false
scriptpath=/JRunScripts/jrun.dll
serverstore=C:/CFusionMX7/runtime/lib/wsconfig/1/jrunserver.store
bootstrap=127.0.0.1:51011
apialloc=false
ssl=false
ignoresuffixmap=true
#errorurl=&lt;optionally redirect to this URL on errors&gt;
#proxyretryinterval=&lt;number of seconds to wait before trying to reconnect to unreachable clustered server&gt;
#connecttimeout=&lt;number of seconds to wait on a socket connect to a JRun server&gt;
#recvtimeout=&lt;number of seconds to wait on a socket receive to a JRun server&gt;
#sendtimeout=&lt;number of seconds to wait on a socket send to a JRun server&gt;
</pre><h4><a name="wp103013"></a>Netscape, iPlanet, or Sun ONE configuration file</h4>
<p>The following is a typical obj.conf file for Netscape, iPlanet, or Sun ONE Web Server:</p>
<p><strong>Note: </strong>Java must be disabled for the virtual server class that contains the server configured for JRun.</p><pre>...
&lt;Object name=&quot;default&quot;&gt;
AuthTrans fn=&quot;match-browser&quot; browser=&quot;*MSIE*&quot; ssl-unclean-shutdown=&quot;true&quot;
NameTrans fn=&quot;pfx2dir&quot; from=&quot;/mc-icons&quot; dir=&quot;C:/Sun/WebServer6.1/ns-icons&quot; name=&quot;es-internal&quot;
NameTrans fn=&quot;pfx2dir&quot; from=&quot;/manual&quot; dir=&quot;C:/Sun/WebServer6.1/manual/https&quot;
NameTrans fn=&quot;document-root&quot; root=&quot;$docroot&quot;
PathCheck fn=&quot;nt-uri-clean&quot;
PathCheck fn=&quot;check-acl&quot; acl=&quot;default&quot;
PathCheck fn=&quot;find-pathinfo&quot;
PathCheck fn=find-index index-names=&quot;index.jsp,index.html,home.html,index.cfm&quot;
PathCheck fn=&quot;jrunfilter&quot;
ObjectType fn=type-by-exp exp=*.jsp type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.jws type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.cfm type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.cfml type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.cfc type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.swf type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.mxml type=&quot;jrun-internal/ext&quot;
ObjectType fn=type-by-exp exp=*.cfr type=&quot;jrun-internal/ext&quot;
ObjectType fn=&quot;type-by-extension&quot;
ObjectType fn=&quot;force-type&quot; type=&quot;text/plain&quot;
Service method=(GET|HEAD|POST) type=&quot;jrun-internal/*&quot; fn=&quot;jrunservice&quot;
Service method=&quot;(GET|HEAD)&quot; type=&quot;magnus-internal/imagemap&quot; fn=&quot;imagemap&quot;
Service method=&quot;(GET|HEAD)&quot; type=&quot;magnus-internal/directory&quot; fn=&quot;index-common&quot;
Service method=&quot;(GET|HEAD|POST)&quot; type=&quot;*~magnus-internal/*&quot; fn=&quot;send-file&quot;
Service method=&quot;TRACE&quot; fn=&quot;service-trace&quot;
AddLog fn=&quot;flex-log&quot; name=&quot;access&quot;
&lt;/Object&gt;
...
</pre><p>The following is a typical magnus.conf file for Netscape, iPlanet, or Sun ONE Web Server:</p>
<pre>...
Init fn=&quot;load-modules&quot; shlib=&quot;C:/CFusionMX7/runtime/lib/wsconfig/1/jrun_nsapi.dll&quot; funcs=&quot;jruninit,jrunfilter,jrunservice&quot;
Init fn=&quot;jruninit&quot; serverstore=&quot;C:/CFusionMX7/runtime/lib/wsconfig/1/jrunserver.store&quot; bootstrap=&quot;127.0.0.1:51011&quot; verbose=&quot;true&quot; apialloc=&quot;false&quot; ssl=&quot;false&quot; ignoresuffixmap=&quot;false&quot; #errorurl=&quot;&lt;optionally redirect to this URL on errors&gt;&quot; connecttimeout=&quot;15&quot; recvtimeout=&quot;300&quot; sendtimeout=&quot;15&quot;
</pre>

<hr />
<p align="right"><p align="right"><a href="00001755.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001757.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001756.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



