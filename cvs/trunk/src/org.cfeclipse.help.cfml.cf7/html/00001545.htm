<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Consuming ColdFusion web services</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001544.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001546.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Consuming ColdFusion web services</h1>
<p>Your application can consume web services created in ColdFusion. You do not have to perform any special processing on the input parameters or return values because ColdFusion handles data mappings automatically when consuming a ColdFusion web service. </p>
<p>For example, when ColdFusion publishes a web service that returns a query, or takes a query as an input, the WSDL file for that service lists its data type as QueryBean. However, a ColdFusion application consuming this web service can pass a ColdFusion query object to the function as an input, or write a returned QueryBean to a ColdFusion query object.</p>
<p><strong>Note: </strong>For a list of how ColdFusion data types map to WSDL data types, see <a href="00001544.htm#1176953">Data conversions between ColdFusion and WSDL data types</a>. </p><p>The following example shows a ColdFusion component that takes a query as input and echoes the query back to the caller: </p>
<pre>&lt;cfcomponent&gt;
   &lt;cffunction name=&#39;echoQuery&#39; returnType=&#39;query&#39; access=&#39;remote&#39;&gt;
      &lt;cfargument name=&#39;input&#39; type=&#39;query&#39;&gt;
      &lt;cfreturn #arguments.input#&gt;
   &lt;/cffunction&gt;
&lt;/cfcomponent&gt;
</pre><p>In the WSDL file for the echotypes.cfc component, you see the following definitions that specify the type of the function's input and output as QueryBean: </p>
<pre>&lt;wsdl:message name=&quot;echoQueryResponse&quot;&gt;
&#160;&#160;&lt;wsdl:part name=&quot;echoQueryReturn&quot; type=&quot;tns1:QueryBean&quot;/&gt;
&lt;/wsdl:message&gt;
&lt;wsdl:message name=&quot;echoQueryRequest&quot;&gt;
&#160;&#160;&lt;wsdl:part name=&quot;input&quot; type=&quot;tns1:QueryBean&quot;/&gt;
&lt;/wsdl:message&gt;
</pre><p>For information on displaying WSDL, see <a href="00001548.htm#1177548">Producing WSDL files</a>.</p>
<p>Since ColdFusion automatically handles mappings to ColdFusion data types, you can call this web service as the following example shows: </p>
<pre>&lt;head&gt;
&lt;title&gt;Passing queries to web services&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;cfquery name=&quot;GetEmployees&quot; datasource=&quot;cfdocexamples&quot;&gt;
   SELECT FirstName, LastName, Salary
   FROM Employee
&lt;/cfquery&gt;

&lt;cfinvoke 
   webservice = &quot;http://localhost/echotypes.cfc?wsdl&quot;
   method = &quot;echoQuery&quot;
   input=&quot;#GetEmployees#&quot;
   returnVariable = &quot;returnedQuery&quot;&gt;

&lt;cfoutput&gt;
   Is returned result a query? #isQuery(returnedQuery)# &lt;br&gt;&lt;br&gt;
&lt;/cfoutput&gt;

&lt;cfoutput query=&quot;returnedQuery&quot;&gt;
   #FirstName#, #LastName#, #Salary#&lt;br&gt;
&lt;/cfoutput&gt;
&lt;/body&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00001544.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001546.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001545.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



