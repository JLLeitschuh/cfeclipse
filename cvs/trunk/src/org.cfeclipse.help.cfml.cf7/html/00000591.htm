<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>NumberFormat</title>
</head>
<body>
<p align="right"><p align="right"><a href="00000590.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000592.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>NumberFormat</h1>
<h4><a name="wp134114"></a>Description</h4>
<p>Creates a custom-formatted number value. Supports the numeric formatting used in the U.S. For international number formatting, see <a href="00000577.htm#133027"><code>LSNumberFormat</code></a>.</p>
<h4><a name="wp134119"></a>Returns</h4>
<p>A formatted number value: </p>
<ul>
<li>
   If no mask is specified, returns the value as an integer with a thousands separator.
</li>
<li>
   If the parameter value is &quot;&quot; (an empty string), returns 0. 
</li>
</ul>
<h4><a name="wp134123"></a>Category</h4>
<p><a href="00000359.htm#1099219">Display and formatting functions</a></p>
<h4><a name="wp134128"></a>Function syntax</h4>
<pre><code><strong>NumberFormat</strong></code>(<i>number</i> [, <i>mask</i> ])
</pre><h4><a name="wp134130"></a>See also</h4>
<p><a href="00000450.htm#1103887">DecimalFormat</a>, <a href="00000455.htm#1104101">DollarFormat</a>, <a href="00000525.htm#1106573">IsNumeric</a>, <a href="00000577.htm#133027">LSNumberFormat</a></p>
<h4><a name="wp134144"></a>History</h4>
<p>ColdFusion&#160;MX: Changed behavior: if the mask format cannot correctly mask a number, this function returns the number unchanged. (It does not truncate the number nor throw an error.)  (If no mask is selected, ColdFusion&#160;MX rounds the decimal part as ColdFusion 5 does. For example, it rounds 34.567 to 35.)</p>
<h4><a name="wp134152"></a>Parameters</h4>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Parameter
    </th>
    <th>
Description
    </th>
  </tr>
  <tr>
    <td>
<p>number</p>
    </td>
    <td>
<p>A number.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>mask</p>
    </td>
    <td>
<p>A string or a variable that contains one. Set of characters that determine how ColdFusion displays the number</p>
    </td>
  </tr>
</table>

<p>The following table explains mask characters: </p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Mask character
    </th>
    <th>
Meaning
    </th>
  </tr>
  <tr>
    <td>
<p>_ (underscore)</p>
    </td>
    <td>
<p>Optional. Digit placeholder. </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>9</p>
    </td>
    <td>
<p>Optional. Digit placeholder. (Shows decimal places more clearly than _.) </p>
    </td>
  </tr>
  <tr>
    <td>
<p>.</p>
    </td>
    <td>
<p>Location of a mandatory decimal point. </p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>0</p>
    </td>
    <td>
<p>Located to the left or right of a mandatory decimal point. Pads with zeros. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>( )</p>
    </td>
    <td>
<p>If number is less than zero, puts parentheses around the mask.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>+</p>
    </td>
    <td>
<p>Puts plus sign before positive number; minus sign before negative number.</p>
    </td>
  </tr>
  <tr>
    <td>
<p>-</p>
    </td>
    <td>
<p>Puts a space before positive number; minus sign before negative number.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>,</p>
    </td>
    <td>
<p>Separates every third decimal place with a comma. </p>
    </td>
  </tr>
  <tr>
    <td>
<p>L,C</p>
    </td>
    <td>
<p>Left-justifies or center-justifies number within width of mask column. First character of mask must be L or C. The default value is right-justified.</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>$</p>
    </td>
    <td>
<p>Puts a dollar sign before formatted number. First character of mask must be the dollar sign ($).</p>
    </td>
  </tr>
  <tr>
    <td>
<p>^</p>
    </td>
    <td>
<p>Separates left and right formatting.</p>
    </td>
  </tr>
</table>

<p><strong>Note: </strong>If you do not specify a sign for the mask, positive and negative numbers do not align in columns. To put a plus sign or space before positive numbers and a minus sign before negative numbers, use the plus or minus sign, respectively. </p><h4><a name="wp134219"></a>Usage</h4>
<p>This function uses Java standard locale formatting rules on all platforms. </p>
<p>The position of symbols in format masks determines where the codes take effect. For example, if you put a dollar sign at the far left of a format mask, ColdFusion displays a dollar sign at the left edge of the formatted number. If you separate the dollar sign on the left edge of the format mask by at least one underscore, ColdFusion displays the dollar sign just to the left of the digits in the formatted number. </p>
<p>These examples show how symbols determine formats: </p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Number
    </th>
    <th>
Mask
    </th>
    <th>
Result
    </th>
  </tr>
  <tr>
    <td>
<p>4.37</p>
    </td>
    <td>
<p>$____.__</p>
    </td>
    <td>
<p>&quot;$  4.37&quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>4.37</p>
    </td>
    <td>
<p>_$___.__</p>
    </td>
    <td>
<p>&quot;  $4.37&quot;</p>
    </td>
  </tr>
</table>

<p>The positioning can also show where to place the minus sign for negative numbers:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Number
    </th>
    <th>
Mask
    </th>
    <th>
Result
    </th>
  </tr>
  <tr>
    <td>
<p>-4.37</p>
    </td>
    <td>
<p>-____.__</p>
    </td>
    <td>
<p>&quot;-  4.37&quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>-4.37</p>
    </td>
    <td>
<p>_-___.__</p>
    </td>
    <td>
<p>&quot;  -4.37&quot;</p>
    </td>
  </tr>
</table>

<p>The positions for a symbol are: far left, near left, near right, and far right. The left and right positions are determined by the side of the decimal point on which the code character is shown. For formats that do not have a fixed number of decimal places, you can use a caret (^) to separate the left fields from the right.</p>
<p>An underscore determines whether the code is placed in the far or near position. Most code characters' effect is determined by the field in which they are located. This example shows how to specify where to put parentheses to display negative numbers:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
Number
    </th>
    <th>
Mask
    </th>
    <th>
Result
    </th>
  </tr>
  <tr>
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C(__^__)</p>
    </td>
    <td>
<p>&quot;( 3.21 )&quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C__(^__)</p>
    </td>
    <td>
<p>&quot; (3.21 )&quot;</p>
    </td>
  </tr>
  <tr>
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C(__^)__</p>
    </td>
    <td>
<p>&quot;( 3.21) &quot;</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>3.21</p>
    </td>
    <td>
<p>C__(^)__</p>
    </td>
    <td>
<p>&quot; (3.21) &quot;</p>
    </td>
  </tr>
</table>

<p>When converting from string to double, to prevent rounding errors, this function adds a rounding factor of 1.5543122344752E-014 to the converted number. For example, without adding the rounding factor, converting the string value 1.275 to double with two digits of precision results in a value of 1.27499999999999999, which would be rounded up to 1.27. By adding the rounding factor, the conversion correctly results in a value of 1.28. </p>
<p>If you round off a double such as 1.99499999999999999999999999999, where the last decimal is 10E-14, the rounding factor can cause an incorrect result. </p>
<p>To set the default display format of date, time, number, and currency values, use the <a href="00000624.htm#136340"><code>SetLocale</code></a> function. </p>
<h4><a name="wp134304"></a>Example</h4>
<pre>&lt;h3&gt;NumberFormat Example&lt;/h3&gt;

&lt;cfloop FROM = 1000 TO = 1020 INDEX = &quot;counter&quot;&gt;
&lt;cfset CounterRoot2 = counter * sqr(2)&gt;

&lt;!--- Show result in default format, adding comma for thousands place; <br />and in custom format, displaying to two decimal places ---&gt;
&lt;cfoutput&gt;
&lt;pre&gt;#counter# * Square Root of 2: #NumberFormat(CounterRoot2,
  '_____.__')#&lt;/pre&gt;
&lt;pre&gt;#counter# * Square Root of 2: #NumberFormat(CounterRoot2)#&lt;/pre&gt;
&lt;/cfoutput&gt;
&lt;/cfloop&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00000590.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00000592.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00000591.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



