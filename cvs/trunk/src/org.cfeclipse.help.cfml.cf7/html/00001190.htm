<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Application-based user security example</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001189.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001191.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Application-based user security example</h1>
<p>The example in this section shows how you might implement user security by authenticating users and then allowing users to see or use only the resources that they are authorized to access.</p>
<p>This example has three ColdFusion pages: </p>
<ul>
<li>
   The Application.cfc page contains the authentication logic that checks whether a user is logged in, requests the login page if the user is not logged in, and authenticates the data from the login page. If the user is authenticated, it logs the user in.
<p>This page also includes the one-button form and logic for logging out a user, which appears at the top of each page.</p>
</li>
<li>
   The loginform.cfm page displays the login form. The code on this page could also be included in Application.cfc.
</li>
<li>
   The securitytest.cfm page is a sample application page. It displays the logged-in user's roles.
</li>
</ul>
<p>You can test the security behavior by adding your own pages to the same directory as the Application.cfc page.</p>
<p>The example gets user information from the LoginInfo table of the cfdocexamples database that is installed with ColdFusion. You can replace this database with any database containing UserID, Password, and Roles fields. The sample database contains the following data:</p>
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <th>
UserID
    </th>
    <th>
Password
    </th>
    <th>
Roles
    </th>
  </tr>
  <tr>
    <td>
<p>BobZ</p>
    </td>
    <td>
<p>Ads10</p>
    </td>
    <td>
<p>Employee,Sales</p>
    </td>
  </tr>
  <tr bgcolor="#F8F8F8">
    <td>
<p>JaniceF</p>
    </td>
    <td>
<p>Qwer12</p>
    </td>
    <td>
<p>Contractor,Documentation</p>
    </td>
  </tr>
  <tr>
    <td>
<p>RandalQ</p>
    </td>
    <td>
<p>ImMe</p>
    </td>
    <td>
<p>Employee,Human Resources,Manager</p>
    </td>
  </tr>
</table>

<p>Because spaces are meaningful in roles strings, you should not follow the comma separators in the Roles fields with spaces.</p>
<p>This section includes the following examples:</p>
<ul>
<li>
   <a href="00001191.htm#1116730">Example: Application.cfc</a>
</li>
<li>
   <a href="00001192.htm#1116732">Example: loginform.cfm</a>
</li>
<li>
   <a href="00001193.htm#1116629">Example: securitytest.cfm</a>
</li>
</ul>


<hr />
<p align="right"><p align="right"><a href="00001189.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001191.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001190.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



