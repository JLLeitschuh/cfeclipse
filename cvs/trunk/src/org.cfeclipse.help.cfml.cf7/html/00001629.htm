<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>How event gateway applications work</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001628.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001630.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>How event gateway applications work</h1>
<p>The following diagram shows the architecture of ColdFusion event gateway applications:</p>
<p><br />
<img src="images/gatewayb.jpg" alt="Diagram shows the architecture of ColdFusion event gateway applications" border="0" hspace="0" vspace="0"/>
<br />
</p>
<h3><a name="wp123642"></a>How event gateways interact</h3>
<p>Typically, a ColdFusion event gateway instance, a Java object, listens for events coming from an external provider. For example, a general socket event gateway listens for messages on an IP socket, and an SMS event gateway receives messages from an SMSC server. </p>
<p>Each event gateway instance communicates with one or more listener CFCs through the ColdFusion event gateway service. The listener CFCs receive CFEvent object instances that contain the messages, process them, and can send responses back to the event gateway, which can send the messages to the external resources.</p>
<p>Alternatively, a ColdFusion application can initiate a message by calling a ColdFusion function that sends the message to the event gateway. The event gateway then forwards the message to an external resource, such as an instant messaging server. A CFC in the application listens for any responses to the sent message.</p>
<p>Some event gateways can be one-way: they listen for a specific event and send it to a CFC, or they get messages from a ColdFusion function and dispatch it, but they do not do both. The example <a href="00001649.htm#135887">DirectoryWatcherGateway</a><a href="00001647.htm" target="right"> listens for events only, and the </a>asynchronous CFML event gateway receives messages from CFML only. (You could even say that the directory watcher gateway doesn't listen for events; it creates its own events internally by periodically checking the directory state.)</p>
<h3><a name="wp133200"></a>Event gateway structure</h3>
<p>Java programmers develop ColdFusion event gateways by writing Java classes that implement the coldfusion.eventgateway.Gateway interface. ColdFusion event gateways normally consist of one or more threads that listen for events from an event provider, such as a Socket, an SMSC server, or some other source. The event gateway sends event messages to the ColdFusion event gateway service message queue, and provides a method that gets called when an event gateway application CFC or CFM page sends an outgoing message.</p>
<p>The event gateway class can also do the following:</p>
<ul>
<li>
   Provide the ColdFusion application with access to a helper class that provides event gateway-specific services, such as buddy-list management or connection management. 
</li>
<li>
   Use a file that specifies configuration information, such as IP addresses and ports, passwords, and other ID information, internal time-out values, and so on.
</li>
</ul>


<hr />
<p align="right"><p align="right"><a href="00001628.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001630.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001629.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



