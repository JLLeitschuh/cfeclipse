<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Repeating Flash form elements based on query data</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001393.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001395.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Repeating Flash form elements based on query data</h1>
<p>The <code>repeater</code> <code>cfformgroup</code> type tells Flash Player to iterate over a query and create a set of the <code>cfformgroup</code> tag's child controls for each row in the query. For each set of child controls, <code>bind</code> attributes in the child tags can access fields in the current query row. This <code>cfformgroup</code> type lets you create Flash forms where the number of controls can change based on a query, without requiring ColdFusion to recompile the Flash SWF file for the form. This significantly enhances server performance.</p>
<p><strong>Note: </strong>For more information on binding data, see <a href="00001396.htm#126129">Binding data in Flash forms</a>.</p><p>Optionally, you can specify a start row and a maximum number of rows to use in the <code>repeater</code>. Unlike most ColdFusion tags, <code>cfrepeater</code> index values start at 0, not 1. To specify a repeater that starts on the first line of the query object and uses no more than 15 rows, use a tag such as the following:</p>
<pre>&lt;cfformgroup type=&quot;repeater&quot; query=&quot;q1&quot; startrow=&quot;0&quot; maxrows=&quot;15&quot;&gt;
</pre><p>One example that might use a repeater is a form that lets a teacher select a specific class and update the student grades. Each class can have a different number of students, so the form must have a varying number of input lines. Another example is a shopping cart application that displays the product name and quantity ordered and lets users change the quantity. </p>
<p>The following example uses the <code>cfformgroup</code> tag with a <code>repeater</code> <code>type</code> attribute value to populate a form. It creates a query, and uses the repeater to iterate over a query and create a firstname and lastname input box for each row in the query.</p>
<pre>&lt;cfif IsDefined(&quot;Form.fieldnames&quot;)&gt;
   &lt;cfdump var=&quot;#form#&quot; label=&quot;form scope&quot;&gt;
   &lt;br&gt;&lt;br&gt;
&lt;/cfif&gt;
&lt;cfscript&gt;
   q1 = queryNew(&quot;id,firstname,lastname&quot;);
   queryAddRow(q1);
   querySetCell(q1, &quot;id&quot;, &quot;1&quot;);
   querySetCell(q1, &quot;firstname&quot;, &quot;Rob&quot;);
   querySetCell(q1, &quot;lastname&quot;, &quot;Smith&quot;);
   queryAddRow(q1);
   querySetCell(q1, &quot;id&quot;, &quot;2&quot;);
   querySetCell(q1, &quot;firstname&quot;, &quot;John&quot;);
   querySetCell(q1, &quot;lastname&quot;, &quot;Doe&quot;);
   queryAddRow(q1);
   querySetCell(q1, &quot;id&quot;, &quot;3&quot;);
   querySetCell(q1, &quot;firstname&quot;, &quot;Jane&quot;);
   querySetCell(q1, &quot;lastname&quot;, &quot;Doe&quot;);
   queryAddRow(q1);
   querySetCell(q1, &quot;id&quot;, &quot;4&quot;);
   querySetCell(q1, &quot;firstname&quot;, &quot;Erik&quot;);
   querySetCell(q1, &quot;lastname&quot;, &quot;Pramenter&quot;);
&lt;/cfscript&gt;

&lt;cfform name=&quot;form1&quot; format=&quot;flash&quot; height=&quot;220&quot; width=&quot;450&quot;&gt;
   &lt;cfselect label=&quot;select a teacher&quot; name=&quot;sel1&quot; query=&quot;q1&quot; value=&quot;id&quot;
      display=&quot;firstname&quot; width=&quot;100&quot; /&gt;
   &lt;cfformgroup type=&quot;repeater&quot; query=&quot;q1&quot;&gt;
      &lt;cfformgroup type=&quot;horizontal&quot; label=&quot;name&quot;&gt;
         &lt;cfinput type=&quot;Text&quot; name=&quot;fname&quot;  bind=&quot;{q1.currentItem.firstname}&quot;&gt;
         &lt;cfinput type=&quot;Text&quot; name=&quot;lname&quot; bind=&quot;{q1.currentItem.lastname}&quot;&gt;
      &lt;/cfformgroup&gt;
   &lt;/cfformgroup&gt;
   &lt;cfinput type=&quot;submit&quot; name=&quot;submitBtn&quot; value=&quot;Send Data&quot; width=&quot;100&quot;&gt;
&lt;/cfform&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00001393.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001395.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001394.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



