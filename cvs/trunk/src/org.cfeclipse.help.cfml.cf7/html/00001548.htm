<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Producing WSDL files</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001547.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001549.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Producing WSDL files</h1>
<p>ColdFusion automatically creates a WSDL file for any component referenced as a web service. For example, if you have a component named echo.cfc in your web root directory, you can view its corresponding WSDL file by requesting the component as follows:</p>
<pre>http://localhost/echo.cfc?wsdl
</pre><p>For example, you define a ColdFusion component as follows:</p>
<pre>&lt;cfcomponent&gt;
   &lt;cffunction <br />name = &quot;echoString&quot; <br />returnType = &quot;string&quot; <br />output = &quot;no&quot;<br />access = &quot;remote&quot;&gt;
      &lt;cfargument name = &quot;input&quot; type = &quot;string&quot;&gt;
      &lt;cfreturn #arguments.input#&gt;
   &lt;/cffunction&gt;
&lt;/cfcomponent&gt;
</pre><p><strong>Tip: </strong>If you register the component in Dreamweaver MX 2004, it appears in the Components tab of the Application panel.</p><p>Requesting the WSDL file in a browser returns the following:</p>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;wsdl:definitions targetNamespace=&quot;http://ws&quot; 
  xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; 
  xmlns:apachesoap=&quot;http://xml.apache.org/xml-soap&quot; 
  xmlns:impl=&quot;http://ws&quot; 
  xmlns:intf=&quot;http://ws&quot; 
  xmlns:soapenc=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; 
  xmlns:tns1=&quot;http://rpc.xml.coldfusion&quot; 
  xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; 
  xmlns:wsdlsoap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; 
  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;
  &lt;!--WSDL created by Macromedia ColdFusion MX version 7,0,0,87956--&gt;
  &lt;wsdl:types&gt;
    &lt;schema targetNamespace=&quot;http://rpc.xml.coldfusion&quot; 
      xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;
    &lt;import namespace=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;/&gt;
    &lt;complexType name=&quot;CFCInvocationException&quot;&gt;
      &lt;sequence/&gt;
    &lt;/complexType&gt;
    &lt;/schema&gt;
  &lt;/wsdl:types&gt;
  &lt;wsdl:message name=&quot;CFCInvocationException&quot;&gt;
    &lt;wsdl:part name=&quot;fault&quot; type=&quot;tns1:CFCInvocationException&quot;/&gt;
  &lt;/wsdl:message&gt;
<code><strong>  &lt;wsdl:message name=&quot;echoStringResponse&quot;&gt;</strong></code>
<code><strong>    &lt;wsdl:part name=&quot;echoStringReturn&quot; type=&quot;xsd:string&quot;/&gt;</strong></code>
<code><strong>  &lt;/wsdl:message&gt;</strong></code>
<code><strong>  &lt;wsdl:message name=&quot;echoStringRequest&quot;&gt;</strong></code>
<code><strong>    &lt;wsdl:part name=&quot;input&quot; type=&quot;xsd:string&quot;/&gt;</strong></code>
<code><strong>   &lt;/wsdl:message&gt;</strong></code>
   &lt;wsdl:portType name=&quot;echo&quot;&gt;
<code><strong>     &lt;wsdl:operation name=&quot;echoString&quot; parameterOrder=&quot;input&quot;&gt;</strong></code>
<code><strong>       &lt;wsdl:input message=&quot;impl:echoStringRequest&quot; name=&quot;echoStringRequest&quot;/&gt;</strong></code>
<code><strong>       &lt;wsdl:output message=&quot;impl:echoStringResponse&quot;</strong></code>
<code><strong>            name=&quot;echoStringResponse&quot;/&gt;</strong></code>
       &lt;wsdl:fault message=&quot;impl:CFCInvocationException&quot; name=&quot;CFCInvocationException&quot;/&gt;
     &lt;/wsdl:operation&gt;
   &lt;/wsdl:portType&gt;
   &lt;wsdl:binding name=&quot;echo.cfcSoapBinding&quot; type=&quot;impl:echo&quot;&gt;
     &lt;wsdlsoap:binding style=&quot;rpc&quot; transport=&quot;http://schemas.xmlsoap.org/soap/
         http&quot;/&gt;
     &lt;wsdl:operation name=&quot;echoString&quot;&gt;
       &lt;wsdlsoap:operation soapAction=&quot;&quot;/&gt;
<code><strong>       &lt;wsdl:input name=&quot;echoStringRequest&quot;&gt;</strong></code>
         &lt;wsdlsoap:body encodingStyle=&quot;http://schemas.xmlsoap.org/soap/
               encoding/&quot; namespace=&quot;http://ws&quot; use=&quot;encoded&quot;/&gt;
       &lt;/wsdl:input&gt;
<code><strong>       &lt;wsdl:output name=&quot;echoStringResponse&quot;&gt;</strong></code>
         &lt;wsdlsoap:body encodingStyle=&quot;http://schemas.xmlsoap.org/soap/
               encoding/&quot; namespace=&quot;http://ws&quot; use=&quot;encoded&quot;/&gt;
       &lt;/wsdl:output&gt;
       &lt;wsdl:fault name=&quot;CFCInvocationException&quot;&gt;
         &lt;wsdlsoap:fault encodingStyle=&quot;http://schemas.xmlsoap.org/soap/
               encoding/&quot; name=&quot;CFCInvocationException&quot; namespace=
               &quot;http://ws&quot; use=&quot;encoded&quot;/&gt;
       &lt;/wsdl:fault&gt;
     &lt;/wsdl:operation&gt;
   &lt;/wsdl:binding&gt;
   &lt;wsdl:service name=&quot;echoService&quot;&gt;
     &lt;wsdl:port binding=&quot;impl:echo.cfcSoapBinding&quot; name=&quot;echo.cfc&quot;&gt;
       &lt;wsdlsoap:address location=&quot;http://localhost:8500/ws/echo.cfc&quot;/&gt;
     &lt;/wsdl:port&gt;
   &lt;/wsdl:service&gt;
&lt;/wsdl:definitions&gt;
</pre><h4>To publish a web service:</h4>
<ol>
<li>
   Create a ColdFusion page with the following content:
<pre>
&lt;cfcomponent output=&quot;false&quot;&gt;
	&lt;cffunction <br />
			name = &quot;echoString&quot; <br />
			returnType = &quot;string&quot; <br />
			output = &quot;no&quot; <br />
			access = &quot;remote&quot;&gt;
		&lt;cfargument name = &quot;input&quot; type = &quot;string&quot;&gt;
		&lt;cfreturn #arguments.input#&gt;
	&lt;/cffunction&gt;
&lt;/cfcomponent&gt;
</pre>
</li>
<li>
   Save this file as echo.cfc in your web root directory.
</li>
<li>
   Create a ColdFusion page with the following content:
<pre>
&lt;cfinvoke webservice =&quot;http://localhost/echo.cfc?wsdl&quot;
	method =&quot;echoString&quot;
	input = &quot;hello&quot; 
	returnVariable=&quot;foo&quot;&gt;

&lt;cfoutput&gt;#foo#&lt;/cfoutput&gt;
</pre>
</li>
<li>
   Save this file as echoclient.cfm in your web root directory.
</li>
<li>
   Request echoclient.cfm in your browser. 
<p>The following string appears in your browser:</p>
<pre>
hello
</pre>
</li>
</ol>
<p>You can also invoke the web service using the following code:</p>
<pre>&lt;cfscript&gt;
   ws = CreateObject(&quot;webservice&quot;, &quot;http://localhost/echo.cfc?wsdl&quot;);
   wsresults = ws.echoString(&quot;hello&quot;);
   writeoutput(wsresults);
&lt;/cfscript&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00001547.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001549.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001548.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



