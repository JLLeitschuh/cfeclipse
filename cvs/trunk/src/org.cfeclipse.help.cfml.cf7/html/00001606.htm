<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Deleting messages</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001605.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001607.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Deleting messages</h1>
<p>Using the <code>cfpop</code> tag to delete a message permanently removes it from the server. By default, retrieved messages remain on the POP mail server. To delete the messages, set the <code>action</code> attribute of the <a href="00000311.htm#1101854"><code>cfpop</code></a> tag to Delete. Specify use the <code>messagenumber</code> attribute to specify the messages to delete; omit the attribute to delete all the user's messages from the server.</p>
<p><strong>Note: </strong>Message numbers are reassigned at the end of every POP mail server communication that contains a delete action. For example, if you retrieve four messages from a POP mail server, the server returns the message numbers 1,2,3,4. If you delete messages 1 and 2 with a single <code>cfpop</code> tag, messages 3 and 4 are assigned message numbers 1 and 2, respectively.</p><h4>To delete messages:</h4>
<ol>
<li>
   Create a ColdFusion page with the following content:
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;POP Mail Message Delete Example&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;h2&gt;This example deletes messages:&lt;/h2&gt;

&lt;cfpop server=&quot;mail.company.com&quot;
	username=#username#
	password=#password#
	action=&quot;Delete&quot;
	messagenumber=&quot;1,2,3&quot;&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
</li>
<li>
   Edit the following lines so that they refer to valid values for your POP mail server, username, and password:
<pre>
&lt;cfpop server=&quot;mail.company.com&quot;
	username=#username#
	password=#password#
</pre>
</li>
<li>
   Save the file as message_delete.cfm in the myapps directory under your <i>web_root</i> and view the file in your web browser.
</li>
<li>
   Run the header_only.cfm page that you created to confirm that the messages have been deleted.
<p><strong>Caution: </strong>When you view this page in your web browser, ColdFusion immediately deletes the messages from the POP server.</p></li>
</ol>
<p></p>


<hr />
<p align="right"><p align="right"><a href="00001605.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001607.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001606.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



