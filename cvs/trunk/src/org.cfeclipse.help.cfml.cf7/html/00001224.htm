<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <script src="pages.js" type="text/javascript" language="Javascript1.2" charset="UTF-8"></script>
   <title>Using the cftimer tag to time blocks of code</title>
</head>
<body>
<p align="right"><p align="right"><a href="00001223.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001225.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<hr />
<h1>Using the cftimer tag to time blocks of code</h1>
<p>The <a href="00000344.htm#2765717"><code>cftimer</code></a> tag displays execution time for a specified section of CFML code.</p>
<h2><a name="wp1170346"></a>Using timing</h2>
<p>Use this tag to determine how long it takes for a block of code to execute. This is particularly useful when ColdFusion debugging output indicates excessive execution time, but does not pinpoint the long-running block of code.</p>
<p>To use this tag, you must enable debugging in the ColdFusion&#160;MX Administrator Debugging Settings page. In the Debugging Settings page, you must also specifically enable usage of the <a href="00000344.htm#2765717"><code>cftimer</code></a> tag by checking the Timer Information check box.</p>
<p><strong>Tip: </strong>If you enable debugging for the <code>cftimer</code> tag only and display timing information in an HTML comment, you can generate timing information without disturbing production users.</p><h2><a name="wp1170349"></a>Calling the cftimer tag</h2>
<p>You can control where the <a href="00000344.htm#2765717"><code>cftimer</code></a> tag displays timing information, as follows:</p>
<ul>
<li>
   <strong>Inline</strong>&#160;Displays timing information following the <code>&lt;/cftimer&gt;</code> tag.
</li>
<li>
   <strong>Outline</strong>&#160;Displays timing information at the beginning of the timed code and draws a box around the timed code. (This requires browser support for the HTML FIELDSET attribute.)
</li>
<li>
   <strong>Comment</strong>&#160;Displays timing information in an HTML comment in the format <code>&lt;!--&#160;</code><i>label</i><code>: </code><i>elapsed-time</i><code> ms&#160;--&gt;</code>. The default label is <code>cftimer</code>.
</li>
<li>
   <strong>Debug</strong>&#160;Displays timing information in the debugging output under the heading CFTimer Times.
</li>
</ul>
<p>The following example calls the <a href="00000344.htm#2765717"><code>cftimer</code></a> tag multiple times, each time using a different <code>type</code> attribute:</p>
<pre>&lt;HTML&gt;
&lt;body&gt;
&lt;h1&gt;CFTIMER test&lt;/h1&gt;
&lt;!--- type=&quot;inline&quot; ---&gt;
     &lt;cftimer label=&quot;Query and Loop Time Inline&quot; type=&quot;inline&quot;&gt;
      &lt;cfquery name=&quot;empquery&quot; datasource=&quot;cfdocexamples&quot;&gt;
            select *
            from Employees
      &lt;/cfquery&gt;

      &lt;cfloop query=&quot;empquery&quot;&gt;
         &lt;cfoutput&gt;#lastname#, #firstname#&lt;/cfoutput&gt;&lt;br&gt;
      &lt;/cfloop&gt;
   &lt;/cftimer&gt;
&lt;hr&gt;&lt;br&gt;
&lt;!--- type=&quot;outline&quot; ---&gt;
     &lt;cftimer label=&quot;Query and CFOUTPUT Time with Outline&quot; type=&quot;outline&quot;&gt;
      &lt;cfquery name=&quot;coursequery&quot; datasource=&quot;cfdocexamples&quot;&gt;
            select *
            from CourseList
      &lt;/cfquery&gt;

       &lt;table border=&quot;1&quot; width=&quot;100%&quot;&gt;
      &lt;cfoutput query=&quot;coursequery&quot;&gt;
      &lt;tr&gt;
      &lt;td&gt;#Course_ID#&lt;/td&gt;
      &lt;td&gt;#CorName#&lt;/td&gt;
      &lt;td&gt;#CorLevel#&lt;/td&gt;
      &lt;/tr&gt;
      &lt;/cfoutput&gt;
      &lt;/table&gt;
   &lt;/cftimer&gt;
&lt;hr&gt;&lt;br&gt;
&lt;!--- type=&quot;comment&quot; ---&gt;
     &lt;cftimer label=&quot;Query and CFOUTPUT Time in Comment&quot; type=&quot;comment&quot;&gt;
      &lt;cfquery name=&quot;parkquery&quot; datasource=&quot;cfdocexamples&quot;&gt;
            select *
            from Parks
      &lt;/cfquery&gt;
        &lt;p&gt;Select View &amp;gt; Source to see timing information&lt;/p&gt;
       &lt;table border=&quot;1&quot; width=&quot;100%&quot;&gt;
      &lt;cfoutput query=&quot;parkquery&quot;&gt;
      &lt;tr&gt;
      &lt;td&gt;#Parkname#&lt;/td&gt;
      &lt;/tr&gt;
      &lt;/cfoutput&gt;
      &lt;/table&gt;
   &lt;/cftimer&gt;

&lt;hr&gt;&lt;br&gt;
&lt;!--- type=&quot;debug&quot; ---&gt;
     &lt;cftimer label=&quot;Query and CFOUTPUT Time in Debug Output&quot; type=&quot;debug&quot;&gt;
      &lt;cfquery name=&quot;deptquery&quot; datasource=&quot;cfdocexamples&quot;&gt;
            select *
            from Departments
      &lt;/cfquery&gt;
        &lt;p&gt;Scroll down to CFTimer Times heading to see timing information&lt;/p&gt;
       &lt;table border=&quot;1&quot; width=&quot;100%&quot;&gt;
      &lt;cfoutput query=&quot;deptquery&quot;&gt;
      &lt;tr&gt;
      &lt;td&gt;#Dept_ID#&lt;/td&gt;
      &lt;td&gt;#Dept_Name#&lt;/td&gt;
      &lt;/tr&gt;
      &lt;/cfoutput&gt;
      &lt;/table&gt;
   &lt;/cftimer&gt;
&lt;/body&gt;
</pre>

<hr />
<p align="right"><p align="right"><a href="00001223.htm"><img src="images/previous.gif" width="9" height="14" border="0" alt="Previous"></a>&nbsp;&nbsp;<a href="00001225.htm"><img src="images/next.gif" width="9" height="14" border="0" alt="Next"></a>
</p></p>
<p><a href="http://livedocs.macromedia.com/coldfusion/7/htmldocs/00001224.htm" target="mm_window">View comments in LiveDocs</a></p>
 </body>
</html>



